add_namespace = russia


#########Волнения в Петрограде######
country_event = {
	id = russia.1
	title = russia.1.t
	desc = russia.1.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_government = authoritarism
	}
	
	mean_time_to_happen = {
		days = 60
		modifier = {
			factor = 0.7
			OR = {
				NOT = { controls_state = 12 }
				NOT = { controls_state = 13 }
				NOT = { controls_state = 191 }
				NOT = { controls_state = 207 }
				NOT = { controls_state = 209 }
				NOT = { controls_state = 210 }
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				NOT = { controls_state = 208 }
				NOT = { controls_state = 219 }
				NOT = { controls_state = 223 }
				NOT = { controls_state = 244 }
				NOT = { controls_state = 246 }
				NOT = { controls_state = 263 }
			}
		}
		modifier = {
			factor = 0.2
			controls_state = 195
			NOT = { has_full_control_of_state = 195 }
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = russia.1.a #разогнать демонстрации
		ai_chance = {
			factor = 90
		}
		set_country_flag = RUS_petrograd_miting
		random_list = {
			80 = {
				custom_effect_tooltip = russia.1.a1.tt #не получилось разогнать
			}
			20 = {
				custom_effect_tooltip = russia.1.a2.tt #получилось разогнать
				set_country_flag = RUS_petrograd_miting_has_been_suppressed
			}
		}
	}
	option = {
		name = russia.1.b #пойти на уступки
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_political_power = -70
		set_country_flag = RUS_petrograd_miting
		random_list = {
			50 = {
				custom_effect_tooltip = russia.1.a1.tt #волнения не прекратились
			}
			40 = {
				custom_effect_tooltip = russia.1.a2.tt #волнения ослабли
				set_country_flag = RUS_petrograd_miting_has_been_suppressed
			}
			10 = {
				custom_effect_tooltip = russia.1.a2.tt #волнения прекратились
				set_country_flag = RUS_petrograd_miting_has_been_dissolved
			}
		}
	}
}

#########Роспуск гос думы######
country_event = {
	id = russia.2
	title = russia.2.t
	desc = russia.2.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = russia.2.a
		add_political_power = 100
		set_country_flag = RUS_duma_dissolved
	}
	option = {
		name = russia.2.b
		add_political_power = 50
		set_country_flag = RUS_duma_stopped_work
	}
}

#########Февральская революция######
country_event = {
	id = russia.3
	title = russia.3.t
	desc = russia.3.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_government = authoritarism
		has_country_flag = RUS_petrograd_miting
		NOT = { has_country_flag = RUS_revolution_suppressed }
		has_war = yes
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 20
		modifier = {
			factor = 1.1
			has_country_flag = RUS_duma_stopped_work
		}
		modifier = {
			factor = 1.2
			has_country_flag = RUS_duma_dissolved
		}
		modifier = {
			factor = 1.2
			has_country_flag = RUS_duma_dissolved
		}
		modifier = {
			factor = 2
			has_country_flag = RUS_make_concessions_with_duma
		}
		modifier = {
			factor = 1.2
			has_country_flag = RUS_petrograd_miting_has_been_suppressed
		}
		modifier = {
			factor = 1.5
			has_country_flag = RUS_petrograd_miting_has_been_dissolved
		}
		modifier = {
			factor = 0.7
			OR = {
				NOT = { controls_state = 12 }
				NOT = { controls_state = 13 }
				NOT = { controls_state = 191 }
				NOT = { controls_state = 207 }
				NOT = { controls_state = 209 }
				NOT = { controls_state = 210 }
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				NOT = { controls_state = 208 }
				NOT = { controls_state = 219 }
				NOT = { controls_state = 223 }
				NOT = { controls_state = 244 }
				NOT = { controls_state = 246 }
				NOT = { controls_state = 263 }
			}
		}
		modifier = {
			factor = 1.2
			OR = {
				controls_state = 11
				controls_state = 91
				controls_state = 96
			}
		}
		modifier = {
			factor = 1.2
			OR = {
				controls_state = 97
				controls_state = 190
			}
		}
		modifier = {
			factor = 1.3
			OR = {
				controls_state = 5
				controls_state = 98
			}
		}
		modifier = {
			factor = 1.3
			OR = {
				controls_state = 10
				controls_state = 92
			}
		}
		modifier = {
			factor = 1.3
			OR = {
				controls_state = 73
				controls_state = 88
				controls_state = 85
			}
		}
		modifier = {
			factor = 1.3
			has_completed_focus = RUS_enlist_support_of_army
		}
		modifier = {
			factor = 2
			controls_state = 64
		}
		modifier = {
			factor = 0.2
			controls_state = 195
			NOT = { has_full_control_of_state = 195 }
		}
	}
	
	option = {
		name = russia.3.a #сдаться
		ai_chance = { factor = 70 }
		create_country_leader = {
			name = "Georgy Lvov"
			desc = "RUS_georgy_lvov_DESC"
			picture = "gfx/leaders/RUS/RUS_Georgy_Lvov.dds"
			expire = "1935.1.1"
			ideology = authoritarism_ideology
			traits = {
				#
			}
		}
		set_country_flag = RUS_provisional_government_created
		set_country_flag = RUS_monarchy_fall
		set_party_name = { ideology = authoritarism long_name = RUS_government_long name = RUS_government }
	}
	option = {
		name = russia.3.b #Дормамму, я пришёл договориться
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		if = {
			limit = { has_country_flag = RUS_duma_dissolved }
			create_country_leader = {
				name = "Georgy Lvov"
				desc = "RUS_georgy_lvov_DESC"
				picture = "gfx/leaders/RUS/RUS_Georgy_Lvov.dds"
				expire = "1935.1.1"
				ideology = authoritarism_ideology
				traits = {
					#
				}
			}
			set_country_flag = RUS_provisional_government_created
			set_country_flag = RUS_monarchy_fall
			set_party_name = { ideology = authoritarism long_name = RUS_government_long name = RUS_government }
			clr_country_flag = RUS_duma_dissolved
		}
		if = {
			limit = { has_country_flag = RUS_duma_stopped_work }
			random_list = {
				25 = {
					set_politics = {
						ruling_party = social_conservatism
						elections_allowed = yes
					}
					add_popularity = {
						ideology = social_conservatism
						popularity = 0.35
					}
					add_popularity = {
						ideology = market_liberalism
						popularity = 0.10
					}
					add_popularity = {
						ideology = social_liberalism
						popularity = 0.07
					}
					add_popularity = {
						ideology = social_democracy
						popularity = 0.07
					}
					add_ideas = RUS_Nicolay_II_idea
					complete_national_focus = RUS_extension_of_powers_of_duma
					clr_country_flag = RUS_duma_stopped_work
					set_country_flag = RUS_make_concessions_with_duma
				}
				75 = {
					create_country_leader = {
						name = "Georgy Lvov"
						desc = "RUS_georgy_lvov_DESC"
						picture = "gfx/leaders/RUS/RUS_Georgy_Lvov.dds"
						expire = "1935.1.1"
						ideology = authoritarism_ideology
						traits = {
							#
						}
					}
					set_country_flag = RUS_provisional_government_created
					set_country_flag = RUS_monarchy_fall
					set_party_name = { ideology = authoritarism long_name = RUS_government_long name = RUS_government }
					clr_country_flag = RUS_duma_stopped_work
				}
			}
		}
		if = {
			limit = { NOT = { has_country_flag = RUS_duma_dissolved has_country_flag = RUS_duma_stopped_work has_country_flag = RUS_make_concessions_with_duma } }
			random_list = {
				50 = {
					set_politics = {
						ruling_party = social_conservatism
						elections_allowed = yes
					}
					add_ideas = RUS_Nicolay_II_idea
					add_popularity = {
						ideology = social_conservatism
						popularity = 0.35
					}
					add_popularity = {
						ideology = market_liberalism
						popularity = 0.10
					}
					add_popularity = {
						ideology = social_liberalism
						popularity = 0.07
					}
					add_popularity = {
						ideology = social_democracy
						popularity = 0.07
					}
				}
				50 = {
					create_country_leader = {
						name = "Georgy Lvov"
						desc = "RUS_georgy_lvov_DESC"
						picture = "gfx/leaders/RUS/RUS_Georgy_Lvov.dds"
						expire = "1935.1.1"
						ideology = authoritarism_ideology
						traits = {
							#
						}
					}
					set_country_flag = RUS_provisional_government_created
					set_country_flag = RUS_monarchy_fall
					set_party_name = { ideology = authoritarism long_name = RUS_government_long name = RUS_government }
				}
			}
		}
		if = {
			limit = { has_country_flag = RUS_make_concessions_with_duma NOT = { has_completed_focus = RUS_extension_of_powers_of_duma } }
			random_list = {
				75 = {
					set_politics = {
						ruling_party = social_conservatism
						elections_allowed = yes
					}
					add_ideas = RUS_Nicolay_II_idea
					add_popularity = {
						ideology = social_conservatism
						popularity = 0.35
					}
					add_popularity = {
						ideology = market_liberalism
						popularity = 0.10
					}
					add_popularity = {
						ideology = social_liberalism
						popularity = 0.07
					}
					add_popularity = {
						ideology = social_democracy
						popularity = 0.07
					}
				}
				25 = {
					create_country_leader = {
						name = "Georgy Lvov"
						desc = "RUS_georgy_lvov_DESC"
						picture = "gfx/leaders/RUS/RUS_Georgy_Lvov.dds"
						expire = "1935.1.1"
						ideology = authoritarism_ideology
						traits = {
							#
						}
					}
					set_country_flag = RUS_provisional_government_created
					set_country_flag = RUS_monarchy_fall
					set_party_name = { ideology = authoritarism long_name = RUS_government_long name = RUS_government }
				}
			}
		}
		if = {
			limit = { has_completed_focus = RUS_extension_of_powers_of_duma }
			set_politics = {
				ruling_party = social_conservatism
				elections_allowed = yes
			}
			add_popularity = {
				ideology = social_conservatism
				popularity = 0.35
			}
			add_popularity = {
				ideology = market_liberalism
				popularity = 0.10
			}
			add_popularity = {
				ideology = social_liberalism
				popularity = 0.07
			}
			add_popularity = {
				ideology = social_democracy
				popularity = 0.07
			}
			add_ideas = RUS_Nicolay_II_idea
		}
	}
	option = {
		name = russia.3.c
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		# не дописано
	}
}

#########Петроградский совет######
country_event = {
	id = russia.4
	title = russia.4.t
	desc = russia.4.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_petrograd_miting
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 32
		modifier = {
			factor = 1.4
			has_country_flag = RUS_petrograd_miting_has_been_dissolved
		}
	}
	
	option = {
		name = russia.4.a
		custom_effect_tooltip = russia.4.tt
		set_country_flag = RUS_petrograd_soviet
		add_popularity = {
			ideology = social_liberalism
			popularity = 0.1
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.15
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.15
		}
	}
}










country_event = {
	id = russia.100
	title = russia.100.t
	desc = russia.100.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = russia.4.a
		swap_ideas = {
			remove_idea = RUS_monarch_nationalism_idea
			add_idea = RUS_monarcho-fascism_idea
		}
		set_politics = {
			ruling_party = fascism
			elections_allowed = yes
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.10
		}
		add_popularity = {
			ideology = authoritarism
			popularity = -0.20
		}
		create_country_leader={
			name = "Nikolay II"
			desc=RUS_nikolai_ii_DESC
			picture="gfx/leaders/RUS/RUS_Nikolai_II.dds"
			expire="1935.1.1"
			ideology = fascism_ideology
			traits={  }
		}
	}
	option = {
		name = russia.4.b
		swap_ideas = {
			remove_idea = RUS_monarch_nationalism_idea
			add_idea = RUS_monarcho-syndicalism_idea
		}
		set_politics = {
			ruling_party = national_syndicalism
			elections_allowed = yes
		}
		add_popularity = {
			ideology = national_syndicalism
			popularity = 0.10
		}
		add_popularity = {
			ideology = authoritarism
			popularity = -0.20
		}
		create_country_leader={
			name = "Nikolay II"
			desc=RUS_nikolai_ii_DESC
			picture="gfx/leaders/RUS/RUS_Nikolai_II.dds"
			expire="1935.1.1"
			ideology = national_syndicalism_ideology
			traits={  }
		}
	}
}