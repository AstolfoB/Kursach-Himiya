###########################
# Events Petrograd Commune
###########################

add_namespace = petrograd_commune

country_event = {
	id = petrograd_commune.1
	title = petrograd_commune.1.t
	desc = petrograd_commune.1.desc
	picture = GFX_report_event_cimmerman_telegramm

	is_triggered_only = yes
	
	trigger = {
		tag = KRN
	}
	
	option = {
		name = petrograd_commune.1.a
		ai_chance = { factor = 50 }
		set_politics = {
			ruling_party = social_liberalism
			elections_allowed = no
		}
		create_country_leader = {
			name = "Alexandr Kerensky"
			desc=RUS_Alexandr_Kerensky_DESC
			picture="gfx/leaders/RUS/Alexandr_Kerensky.dds"
			expire="1935.1.1"
			ideology = social_liberalism_ideology
			traits={ political_dancer }
		}
	}
	option = {
		name = petrograd_commune.1.b
		ai_chance = { factor = 40 }
		set_politics = {
			ruling_party = social_democracy
			elections_allowed = no
		}
		create_country_leader = {
			name = "Nikolay Chkheidze"
			desc = GEO_Nikolay_Chkheidze_DESC
			picture = "gfx/leaders/GEO/Nikolay_Chkheidze.dds"
			expire = "1935.1.1"
			ideology = social_democracy_ideology
			traits = { }
		}
	}
	option = {
		name = petrograd_commune.1.c
		ai_chance = { factor = 10 }
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		create_country_leader = {
			name = "Alexandr Shlyapnikov"
			#desc=RUS_Alexandr_Kerensky_DESC
			#picture="gfx/leaders/RUS/Alexandr_Kerensky.dds"
			expire="1935.1.1"
			ideology = leninism
			traits={ }
		}
	}
}
country_event = {
	id = petrograd_commune.2
	title = petrograd_commune.2.t
	desc = petrograd_commune.2.desc
	picture = GFX_report_event_cimmerman_telegramm

	is_triggered_only = yes
	
	trigger = {
		tag = RUS
		}
	
	option = {
		name = petrograd_commune.2.a
		ai_chance = { factor = 50 }
		FIN = {
			add_ideas = { 
				military_dictatorship_gov_form
				allow_one_party_law
				decrees_of_ruler_b_law
			}
			add_autonomy_ratio = {
				value = -0.2
				localization = FIN_commune_support
			}
		}
	}
	option = {
		name = petrograd_commune.2.b
		ai_chance = { factor = 50 }
		FIN = {
			set_politics = {
					ruling_party = despotism
					elections_allowed = no
			}
			add_autonomy_ratio = {
				value = 0.15
				localization = FIN_generals
			}
			add_political_power = 120
			load_oob = FIN_petrograd_commune
				country_event = {
					id = petrograd_commune.3
					days = 14
				}
		}
	}
}
country_event = {
	id = petrograd_commune.3
	title = petrograd_commune.3.t
	desc = petrograd_commune.3.desc
	picture = GFX_report_event_fin_start_civilwar

	is_triggered_only = yes
	
	trigger = {
		tag = FIN
		is_subject_of = RUS
		country_exists = KRN
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		hidden_effect = {
			every_state = {
				limit = { is_core_of = FIN }
				add_core_of = FNR
			}
			set_political_party = {
				ideology = social_democracy
				popularity = 0
			}
			set_political_party = {
				ideology = communism
				popularity = 0
			}
			set_political_party = {
				ideology = social_conservatism
				popularity = 40
			}
			set_capital = 149
			FNR = {
				set_cosmetic_tag = FNR_red
			}
		}
	}
	
	#Играть за белых
	option = {
		name = petrograd_commune.3.a
		add_stability = -0.15
		set_global_flag = FIN_civil_war_begin
		hidden_effect = {
			remove_ideas = punakaarti
			country_event = { id = finland.16 days = 1 }
		}
		set_capital = 149
		FNR = {
			transfer_state = 111
			transfer_state = 1049
			transfer_state = 1050
			transfer_state = 1051
			transfer_state = 1053
			transfer_state = 1055
			transfer_state = 1056
			declare_war_on = {
				target = FIN
				type = annex_everything
			}
			load_oob = "FNR_punakaarti"
			add_ideas = alliance_neutrality
			inherit_technology = FIN
		}
	}
	
	#Играть за красных
	option = {
		name = petrograd_commune.3.b
		add_stability = -0.15
		set_global_flag = FIN_civil_war_begin
		hidden_effect = {
			remove_ideas = punakaarti
			country_event = { id = finland.16 days = 1 }
		}
		set_capital = 149
		FNR = {
			transfer_state = 111
			transfer_state = 1049
			transfer_state = 1050
			transfer_state = 1051
			transfer_state = 1053
			transfer_state = 1055
			transfer_state = 1056
			declare_war_on = {
				target = FIN
				type = annex_everything
			}
			load_oob = "FNR_punakaarti"
			add_ideas = alliance_neutrality
			inherit_technology = FIN
			FNR = { add_opinion_modifier = { target = RUS modifier = socialist_social_democracy } }
			RUS = { add_opinion_modifier = { target = FNR modifier = socialist_social_democracy } }
		}
		FNR = { change_tag_from = FIN }
	}
}
country_event = {
	id = petrograd_commune.4
	title = petrograd_commune.4.t
	desc = petrograd_commune.4.desc
	picture = GFX_report_event_cimmerman_telegramm

	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		tag = FIN
		is_subject_of = RUS
		NOT = {
			country_exists = KRN
			}
		}
		immediate = {
			remove_ideas = RUS_red_guards_provisional_government
		}
	option = {
		name = petrograd_commune.4.a
		ai_chance = { factor = 100 }
	}
}
country_event = {
	id = petrograd_commune.5
	title = petrograd_commune.5.t
	desc = petrograd_commune.5.desc
	picture = GFX_report_event_cimmerman_telegramm

	is_triggered_only = yes
	
	trigger = {
		tag = KRN
		NOT = { has_government = despotism }
		despotism > 0.2
		}
	
	option = {
		name = petrograd_commune.5.a
		ai_chance = { factor = 33.3 }
		set_politics = {
			ruling_party = despotism
			elections_allowed = no
		}
		add_popularity = {
			ideology = despotism
			popularity = 0.05
		}
	}
	option = {
		name = petrograd_commune.5.b
		ai_chance = { factor = 33.3 }
		trigger = { NOT = { has_idea = RUS_red_guards_provisional_government } }
		
	}
	option = {
		name = petrograd_commune.5.c
		ai_chance = { factor = 33.3 }
		add_popularity = {
			ideology = despotism
			popularity = -0.15
		}
		
	}
}
