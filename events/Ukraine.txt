###########################
# Ukrainian Events
###########################

add_namespace = ukraine


# Українська Центральна Рада 22 марта
country_event = {
	id = ukraine.1
	title = ukraine.1.t
	desc = ukraine.1.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = no }
	}
	
	mean_time_to_happen = {
		days = 7
		modifier = {
			factor = 0.75
			OR = {
				NOT = { controls_state = 199 }
				NOT = { controls_state = 201 }
			}
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = budem_sledit_za_situaciey
		set_country_flag = UKR_central_rada
	}
}

# Всеукраинский национальный съезд 20 апреля
country_event = {
	id = ukraine.2
	title = ukraine.2.t
	desc = ukraine.2.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = UKR_central_rada
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = no }
	}
	
	mean_time_to_happen = {
		days = 20
		modifier = {
			factor = 0.75
			OR = {
				NOT = { controls_state = 199 }
				NOT = { controls_state = 201 }
			}
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = budem_sledit_za_situaciey
		add_political_power = -25
		set_country_flag = UKR_allukraine_national_congress
	}
}

# Первый Всеукраинский военный съезд 20 мая
country_event = {
	id = ukraine.3
	title = ukraine.3.t
	desc = ukraine.3.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = UKR_allukraine_national_congress
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = no }
	}
	
	mean_time_to_happen = {
		days = 25
		modifier = {
			factor = 0.75
			OR = {
				NOT = { controls_state = 199 }
				NOT = { controls_state = 201 }
			}
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = budem_sledit_za_situaciey
		add_political_power = -25
		set_country_flag = UKR_first_allukraine_military_congress
	}
}

# Требования центальной рады 30 мая
country_event = {
	id = ukraine.4
	title = ukraine.4.t
	desc = ukraine.4.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = UKR_first_allukraine_military_congress
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = no }
	}
	
	mean_time_to_happen = {
		days = 7
		modifier = {
			factor = 0.75
			OR = {
				NOT = { controls_state = 199 }
				NOT = { controls_state = 201 }
			}
		}
	}
	
	fire_only_once = yes
	
	option = { #проигнорировать требования и ждать учредительного собрания
		name = etot_vopros_doljen_bit_reshyon_na_uchrenitelnom_sobranii
		add_political_power = 50
		set_country_flag = UKR_central_rada_demands_refused
	}
	option = { #дать Украине ограниченную автономию
		name = ukraine.4.b
		add_political_power = -100
		set_country_flag = UKR_central_rada_demands_accepted
		UKR = {
			set_state_owner = 202
			if = { limit = { RUS = { controls_state = 202 } } transfer_state = 202 }
			add_to_war = { targeted_alliance = RUS enemy = GER }
			add_to_war = { targeted_alliance = RUS enemy = AUH }
		}
		UKR = {
			set_state_owner = 93
			if = { limit = { RUS = { controls_state = 93 } } transfer_state = 93 }
			set_state_owner = 193
			if = { limit = { RUS = { controls_state = 193 } } transfer_state = 193 }
			set_state_owner = 198
			if = { limit = { RUS = { controls_state = 198 } } transfer_state = 198 }
			set_state_owner = 199
			if = { limit = { RUS = { controls_state = 199 } } transfer_state = 199 }
			set_state_owner = 201
			if = { limit = { RUS = { controls_state = 201 } } transfer_state = 201 }
			set_state_owner = 203
			if = { limit = { RUS = { controls_state = 203 } } transfer_state = 203 }
			set_state_owner = 259
			if = { limit = { RUS = { controls_state = 259 } } transfer_state = 259 }
			set_state_owner = 959
			if = { limit = { RUS = { controls_state = 959 } } transfer_state = 959 }
			set_state_owner = 812
			if = { limit = { RUS = { controls_state = 812 } } transfer_state = 812 }
			set_state_owner = 868
			if = { limit = { RUS = { controls_state = 868 } } transfer_state = 868 }
			load_oob = UKR_1917
		}
		puppet = UKR
		set_autonomy = { target = UKR autonomy_state = autonomy_dominion }
		UKR = {
			UKR = { inherit_technology = RUS }
			hidden_effect = {
				set_politics={
					parties={
						communism = { popularity = 14 }
						social_liberalism = { popularity = 16 }
						market_liberalism = { popularity = 35 }
						authoritarism = { popularity = 16 }
						despotism = { popularity = 14 }
						national_syndicalism = { popularity = 5 }
					}
					ruling_party=market_liberalism
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

# Первый Универсал 23 июня
country_event = {
	id = ukraine.5
	title = ukraine.5.t
	desc = ukraine.5.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		has_country_flag = UKR_central_rada_demands_refused
		has_country_flag = RUS_provisional_government_created
		UKR = { exists = no }
		controls_state = 202
	}
	
	mean_time_to_happen = {
		days = 20
		modifier = {
			factor = 0.75
			OR = {
				NOT = { controls_state = 199 }
				NOT = { controls_state = 201 }
			}
		}
	}
	
	fire_only_once = yes
	
	option = { #переговоры типо
		name = budem_sledit_za_situaciey
		UKR = {
			transfer_state = 202
			add_to_war = { targeted_alliance = RUS enemy = GER }
			add_to_war = { targeted_alliance = RUS enemy = AUH }
		}
		puppet = UKR
		set_autonomy = { target = UKR autonomy_state = autonomy_integrated_puppet }
		UKR = {
			hidden_effect = {
			UKR = { inherit_technology = RUS }
				set_politics={
					parties={
						communism = { popularity = 14 }
						social_liberalism = { popularity = 16 }
						market_liberalism = { popularity = 35 }
						authoritarism = { popularity = 16 }
						despotism = { popularity = 14 }
						national_syndicalism = { popularity = 5 }
					}
					ruling_party=market_liberalism last_election = "1919.1.1"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
	}
	option = { #ще не вмерла (играть за Украину)
		name = ukraine.5.b
		trigger = {
			is_ai = no
		}
		UKR = {
			transfer_state = 202
			add_to_war = { targeted_alliance = RUS enemy = GER }
			add_to_war = { targeted_alliance = RUS enemy = AUH }
		}
		puppet = UKR
		set_autonomy = { target = UKR autonomy_state = autonomy_integrated_puppet }
		UKR = {
			change_tag_from = RUS
			hidden_effect = {
			UKR = { inherit_technology = RUS }
				set_politics={
					parties={
						communism = { popularity = 14 }
						social_liberalism = { popularity = 16 }
						market_liberalism = { popularity = 35 }
						authoritarism = { popularity = 16 }
						despotism = { popularity = 14 }
						national_syndicalism = { popularity = 5 }
					}
					ruling_party=market_liberalism last_election = "1919.1.1"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

# Киевские переговоры 11 июля
country_event = {
	id = ukraine.6
	title = ukraine.6.t
	desc = ukraine.6.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		RUS = {
			exists = yes
			has_country_flag = UKR_central_rada_demands_refused
			NOT = { has_country_flag = RUS_Oktober_revolution_fired }
		}
	}
	
	mean_time_to_happen = {
		days = 19
	}
	
	fire_only_once = yes
	
	option = { #принять условия временного правительства
		name = ukraine.5.a
		UKR = {
			set_state_owner = 93
			if = { limit = { RUS = { controls_state = 93 } } transfer_state = 93 }
			set_state_owner = 193
			if = { limit = { RUS = { controls_state = 193 } } transfer_state = 193 }
			set_state_owner = 198
			if = { limit = { RUS = { controls_state = 198 } } transfer_state = 198 }
			set_state_owner = 199
			if = { limit = { RUS = { controls_state = 199 } } transfer_state = 199 }
			set_state_owner = 201
			if = { limit = { RUS = { controls_state = 201 } } transfer_state = 201 }
			set_state_owner = 203
			if = { limit = { RUS = { controls_state = 203 } } transfer_state = 203 }
			set_state_owner = 259
			if = { limit = { RUS = { controls_state = 259 } } transfer_state = 259 }
			set_state_owner = 959
			if = { limit = { RUS = { controls_state = 959 } } transfer_state = 959 }
			set_state_owner = 812
			if = { limit = { RUS = { controls_state = 812 } } transfer_state = 812 }
			set_state_owner = 868
			if = { limit = { RUS = { controls_state = 868 } } transfer_state = 868 }
			load_oob = UKR_1917
		}
		RUS = { country_event = ukraine.8 }
	}
	option = { #не принимать
		name = ukraine.5.b
		add_political_power = 25
		ai_chance = {
			factor = 0
		}
		RUS = { country_event = ukraine.7 }
	}
}

# Центральная рада требует расширенной автономии 11 июля
country_event = {
	id = ukraine.7
	title = ukraine.7.t
	desc = ukraine.7.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { #согласиться
		name = ukraine.5.a
		ai_chance = {
			factor = 0
		}
		UKR = {
			set_state_owner = 193
			if = { limit = { RUS = { controls_state = 193 } } transfer_state = 193 }
			set_state_owner = 198
			if = { limit = { RUS = { controls_state = 198 } } transfer_state = 198 }
			set_state_owner = 199
			if = { limit = { RUS = { controls_state = 199 } } transfer_state = 199 }
			set_state_owner = 201
			if = { limit = { RUS = { controls_state = 201 } } transfer_state = 201 }
			set_state_owner = 202
			if = { limit = { RUS = { controls_state = 202 } } transfer_state = 202 }
			set_state_owner = 203
			if = { limit = { RUS = { controls_state = 203 } } transfer_state = 203 }
			set_state_owner = 259
			if = { limit = { RUS = { controls_state = 259 } } transfer_state = 259 }
			set_state_owner = 959
			if = { limit = { RUS = { controls_state = 959 } } transfer_state = 959 }
			set_state_owner = 812
			if = { limit = { RUS = { controls_state = 812 } } transfer_state = 812 }
			set_state_owner = 868
			if = { limit = { RUS = { controls_state = 868 } } transfer_state = 868 }
			set_state_owner = 200
			if = { limit = { RUS = { controls_state = 200 } } transfer_state = 200 }
			set_state_owner = 221
			if = { limit = { RUS = { controls_state = 221 } } transfer_state = 221 }
			set_state_owner = 225
			if = { limit = { RUS = { controls_state = 225 } } transfer_state = 225 }
			set_state_owner = 226
			if = { limit = { RUS = { controls_state = 226 } } transfer_state = 226 }
			load_oob = UKR_1917
		}
		puppet = UKR
		set_autonomy = { target = UKR autonomy_state = autonomy_dominion }
		UKR = {
			hidden_effect = {
				set_politics={
					parties={
						communism = { popularity = 14 }
						social_liberalism = { popularity = 16 }
						market_liberalism = { popularity = 35 }
						authoritarism = { popularity = 16 }
						despotism = { popularity = 14 }
						national_syndicalism = { popularity = 5 }
					}
					ruling_party=market_liberalism last_election = "1919.1.1"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
	}
	option = { #не согласиться
		name = ukraine.5.b
		add_political_power = 25
		ai_chance = {
			factor = 100
		}
		annex_country = { target = UKR }
	}
}

# Второй Универсал 11 июля
country_event = {
	id = ukraine.8
	title = ukraine.8.t
	desc = ukraine.8.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = excellent
		set_country_flag = UKR_2_universal
		set_autonomy = { target = UKR autonomy_state = autonomy_colony }
		UKR = {
			hidden_effect = {
				set_politics={
					parties={
						communism = { popularity = 14 }
						social_liberalism = { popularity = 16 }
						market_liberalism = { popularity = 35 }
						authoritarism = { popularity = 16 }
						despotism = { popularity = 14 }
						national_syndicalism = { popularity = 5 }
					}
					ruling_party=market_liberalism
				}
			}
		}
	}
}

# Третий Универсал 20 ноября
country_event = {
	id = ukraine.9
	title = ukraine.9.t
	desc = ukraine.9.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = RUS
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_global_flag = RUS_Kornilov_civil_war
		}
		has_country_flag = UKR_central_rada
		UKR = { exists = yes }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 13
	}
	
	option = {
		name = budem_sledit_za_situaciey
		end_puppet = UKR
		release = UKR
		remove_from_faction = UKR
		diplomatic_relation = {
			country = UKR
			relation = military_access
			active = yes
		}
		UKR = {
			add_ideas = alliance_neutrality
			load_oob = UKR_1918
			add_to_war = { targeted_alliance = RUS enemy = GER }
			add_to_war = { targeted_alliance = RUS enemy = AUH }
			set_politics={
				parties={
					communism = { popularity = 14 }
					social_liberalism = { popularity = 16 }
					market_liberalism = { popularity = 35 }
					authoritarism = { popularity = 16 }
					despotism = { popularity = 14 }
					national_syndicalism = { popularity = 5 }
				}
				ruling_party=market_liberalism last_election = "1919.1.1"
				election_frequency = 48
				elections_allowed = yes
			}
		}
		if = {
			limit = { RUS = { owns_state = 78 } }
			if = {
				limit = { controls_state = 78 }
				MOL = { inherit_technology = RUS transfer_state = 78 }
				else = {
					ROM = { set_state_owner = 78 }
				}
			}
		}
		if = {
			limit = { RUS = { owns_state = 766 } }
			if = {
				limit = { controls_state = 766 }
				MOL = { inherit_technology = RUS transfer_state = 766 }
				else = {
					ROM = { set_state_owner = 766 }
				}
			}
		}
		set_temp_variable = { temp1 = UKR.num_controlled_states }
		set_temp_variable = { temp2 = RUS.num_controlled_states }
		
		set_temp_variable = { temp3 = UKR.party_popularity@social_democracy }
		divide_temp_variable = { temp3 = temp2 }
		multiply_temp_variable = { temp3 = temp1 }
		multiply_temp_variable = { temp3 = -0.75 }
		add_popularity = { ideology = social_democracy popularity = temp3 }
		
		set_temp_variable = { temp4 = UKR.party_popularity@social_liberalism }
		divide_temp_variable = { temp4 = temp2 }
		multiply_temp_variable = { temp4 = temp1 }
		multiply_temp_variable = { temp4 = -0.75 }
		add_popularity = { ideology = social_liberalism popularity = temp4 }
		
		set_temp_variable = { temp5 = UKR.party_popularity@market_liberalism }
		divide_temp_variable = { temp5 = temp2 }
		multiply_temp_variable = { temp5 = temp1 }
		multiply_temp_variable = { temp5 = -0.75 }
		add_popularity = { ideology = market_liberalism popularity = temp5 }
		
		set_temp_variable = { temp6 = UKR.party_popularity@social_conservatism }
		divide_temp_variable = { temp6 = temp2 }
		multiply_temp_variable = { temp6 = temp1 }
		multiply_temp_variable = { temp6 = -0.75 }
		add_popularity = { ideology = social_conservatism popularity = temp6 }
		
		set_temp_variable = { temp7 = UKR.party_popularity@authoritarism }
		divide_temp_variable = { temp7 = temp2 }
		multiply_temp_variable = { temp7 = temp1 }
		multiply_temp_variable = { temp7 = -0.75 }
		add_popularity = { ideology = authoritarism popularity = temp7 }
		
		set_temp_variable = { temp8 = UKR.party_popularity@despotism }
		divide_temp_variable = { temp8 = temp2 }
		multiply_temp_variable = { temp8 = temp1 }
		multiply_temp_variable = { temp8 = -0.75 }
		add_popularity = { ideology = despotism popularity = temp8 }
		
		set_temp_variable = { temp9 = UKR.party_popularity@fascism }
		divide_temp_variable = { temp9 = temp2 }
		multiply_temp_variable = { temp9 = temp1 }
		multiply_temp_variable = { temp9 = -0.75 }
		add_popularity = { ideology = fascism popularity = temp9 }
		
		set_temp_variable = { temp10 = UKR.party_popularity@national_syndicalism }
		divide_temp_variable = { temp10 = temp2 }
		multiply_temp_variable = { temp10 = temp1 }
		multiply_temp_variable = { temp10 = -0.75 }
		add_popularity = { ideology = national_syndicalism popularity = temp10 }
	}
	
	option = {
		name = ukraine.9.b
		trigger = {
			is_ai = no
		}
		end_puppet = UKR
		release = UKR
		remove_from_faction = UKR
		diplomatic_relation = {
			country = UKR
			relation = military_access
			active = yes
		}
		UKR = {
			add_ideas = alliance_neutrality
			load_oob = UKR_1918
			add_to_war = { targeted_alliance = RUS enemy = GER }
			add_to_war = { targeted_alliance = RUS enemy = AUH }
			set_politics={
				parties={
					communism = { popularity = 14 }
					social_liberalism = { popularity = 16 }
					market_liberalism = { popularity = 35 }
					authoritarism = { popularity = 16 }
					despotism = { popularity = 14 }
					national_syndicalism = { popularity = 5 }
				}
				ruling_party=market_liberalism last_election = "1919.1.1"
				election_frequency = 48
				elections_allowed = yes
			}
			change_tag_from = RUS
		}
		set_temp_variable = { temp1 = UKR.num_controlled_states }
		set_temp_variable = { temp2 = RUS.num_controlled_states }
		
		set_temp_variable = { temp3 = UKR.party_popularity@social_democracy }
		divide_temp_variable = { temp3 = temp2 }
		multiply_temp_variable = { temp3 = temp1 }
		multiply_temp_variable = { temp3 = -0.75 }
		add_popularity = { ideology = social_democracy popularity = temp3 }
		
		set_temp_variable = { temp4 = UKR.party_popularity@social_liberalism }
		divide_temp_variable = { temp4 = temp2 }
		multiply_temp_variable = { temp4 = temp1 }
		multiply_temp_variable = { temp4 = -0.75 }
		add_popularity = { ideology = social_liberalism popularity = temp4 }
		
		set_temp_variable = { temp5 = UKR.party_popularity@market_liberalism }
		divide_temp_variable = { temp5 = temp2 }
		multiply_temp_variable = { temp5 = temp1 }
		multiply_temp_variable = { temp5 = -0.75 }
		add_popularity = { ideology = market_liberalism popularity = temp5 }
		
		set_temp_variable = { temp6 = UKR.party_popularity@social_conservatism }
		divide_temp_variable = { temp6 = temp2 }
		multiply_temp_variable = { temp6 = temp1 }
		multiply_temp_variable = { temp6 = -0.75 }
		add_popularity = { ideology = social_conservatism popularity = temp6 }
		
		set_temp_variable = { temp7 = UKR.party_popularity@authoritarism }
		divide_temp_variable = { temp7 = temp2 }
		multiply_temp_variable = { temp7 = temp1 }
		multiply_temp_variable = { temp7 = -0.75 }
		add_popularity = { ideology = authoritarism popularity = temp7 }
		
		set_temp_variable = { temp8 = UKR.party_popularity@despotism }
		divide_temp_variable = { temp8 = temp2 }
		multiply_temp_variable = { temp8 = temp1 }
		multiply_temp_variable = { temp8 = -0.75 }
		add_popularity = { ideology = despotism popularity = temp8 }
		
		set_temp_variable = { temp9 = UKR.party_popularity@fascism }
		divide_temp_variable = { temp9 = temp2 }
		multiply_temp_variable = { temp9 = temp1 }
		multiply_temp_variable = { temp9 = -0.75 }
		add_popularity = { ideology = fascism popularity = temp9 }
		
		set_temp_variable = { temp10 = UKR.party_popularity@national_syndicalism }
		divide_temp_variable = { temp10 = temp2 }
		multiply_temp_variable = { temp10 = temp1 }
		multiply_temp_variable = { temp10 = -0.75 }
		add_popularity = { ideology = national_syndicalism popularity = temp10 }
	}
}

# Ввод войск РСФСР в Харьков
country_event = {
	id = ukraine.10
	title = ukraine.10.t
	desc = ukraine.10.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			every_state = {
				limit = { is_core_of = UKR }
				add_core_of = USR
			}
			USR = {
				set_cosmetic_tag = USR_Ukr_People_Rep_Sov
				inherit_technology = UKR
				transfer_state = 200
				transfer_state = 221
				transfer_state = 225
				transfer_state = 814
				transfer_state = 852
				transfer_state = 958
				declare_war_on = {
					target = DON
					type = annex_everything
				}
				if = {
					limit = { RVA = { exists = yes } }
					declare_war_on = {
						target = RVA
						type = annex_everything
					}
				}
				add_ideas = alliance_neutrality
				if = {
					limit = { 227 = { OR = { is_owned_by = DON is_owned_by = RVA } } }
					set_state_owner = 227
				}
				if = {
					limit = { 918 = { OR = { is_owned_by = DON is_owned_by = RVA } } }
					set_state_owner = 918
				}
			}
			RUS = {
				end_puppet = UKR
				remove_from_faction = UKR
				diplomatic_relation = {
					country = UKR
					relation = military_access
					active = no
				}
				UKR = {
					diplomatic_relation = {
						country = RUS
						relation = military_access
						active = no
					}
				}
				diplomatic_relation = {
					country = USR
					relation = military_access
					active = yes
				}
				USR = {
					diplomatic_relation = {
						country = RUS
						relation = military_access
						active = yes
					}
				}
			}
			UKR = { add_ideas = alliance_neutrality }
			ROM = {
				transfer_state = 78
				transfer_state = 766
			}
		}
	}
	option = {
		name = ukraine.10.a
		effect_tooltip = {
			every_state = {
				limit = { is_core_of = UKR }
				add_core_of = USR
			}
			USR = {
				inherit_technology = UKR
				transfer_state = 200
				transfer_state = 221
				transfer_state = 225
				transfer_state = 814
				transfer_state = 852
				transfer_state = 958
				declare_war_on = {
					target = DON
					type = annex_everything
				}
				declare_war_on = {
					target = RVA
					type = annex_everything
				}
				add_ideas = alliance_neutrality
			}
			RUS = {
				end_puppet = UKR
				remove_from_faction = UKR
			}
		}
		USR = {
			load_oob = USR_1918
		}
	}
}

# Съезд советов
country_event = {
	id = ukraine.11
	title = ukraine.11.t
	desc = ukraine.11.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		RUS = {
			has_country_flag = RUS_Oktober_revolution_fired
		}
		USR = { exists = yes }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 20
		modifier = {
			factor = 0.01
			has_global_flag = RUS_brest_peace_fired
		}
	}
	
	option = {
		name = ukraine.11.a #обеспечить проигрышь большевиков
		add_popularity = { ideology = communism popularity = -0.75 }
		hidden_effect = {
			declare_war_on = {
				target = USR
				type = annex_everything
			}
			RUS = {
				end_puppet = UKR
			}
			UKR = {
				leave_faction = yes
			}
		}
		set_country_flag = UKR_fail_of_congress_of_councils
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = ukraine.11.b #провести съезд как обычно
		USR = { change_tag_from = UKR annex_country = { target = UKR transfer_troops = yes } }
		ai_chance = {
			factor = 0
		}
	}
}

# Образование Одесской советской республики
country_event = {
	id = ukraine.12
	title = ukraine.12.t
	desc = ukraine.12.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		NOT = { has_global_flag = RUS_civil_war_over }
		has_country_flag = UKR_fail_of_congress_of_councils
		owns_state = 192
		has_war_with = USR
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 40
		modifier = {
			factor = 0.9
			surrender_progress > 0.1
		}
		modifier = {
			factor = 0.8
			surrender_progress > 0.15
		}
		modifier = {
			factor = 0.7
			surrender_progress > 0.2
		}
		modifier = {
			factor = 0.6
			surrender_progress > 0.25
		}
		modifier = {
			factor = 0.5
			surrender_progress > 0.3
		}
		modifier = {
			factor = 0.1
			OR = {
				USR = { controls_state = 192 }
				RUS = { controls_state = 192 }
				CRI = { controls_state = 192 }
			}
		}
	}
	
	option = {
		name = ukraine.12.a
		ODS = {
			add_ideas = alliance_neutrality
			inherit_technology = UKR
			transfer_state = 192
			load_oob = ODS_rise
			give_military_access = USR
			declare_war_on = {
				target = UKR
				type = annex_everything
			}
		}
	}
	
	option = {
		name = ukraine.12.b
		ODS = {
			add_ideas = alliance_neutrality
			inherit_technology = UKR
			transfer_state = 192
			load_oob = ODS_rise
			give_military_access = USR
			declare_war_on = {
				target = UKR
				type = annex_everything
			}
			change_tag_from = UKR
		}
	}
}

# Вторжение в Крым
country_event = {
	id = ukraine.26
	title = ukraine.26.t
	desc = ukraine.26.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		tag = UKR
		controls_state = 919
		RUS = { controls_state = 137 has_country_flag = RUS_brest_peace_fired }
		NOT = { has_war_with = RUS }
		NOT = { has_war_with = GER }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 10
	}
	
	#Начать вторжение
	option = {
		name = ukraine.26.a
		add_political_power = 50
		add_war_support = 0.02
		start_border_war = {
			change_state_after_war = no
			attacker = {
				state = 919
				num_provinces = 2
				on_win = ukraine.27
				on_lose = ukraine.28
				on_cancel = ukraine.29
			}
			
			defender = {
				state = 137
				num_provinces = 2
				on_win = ukraine.28
				on_lose = ukraine.27
				on_cancel = ukraine.29
			}
		}
		hidden_effect = { country_event = { id = ukraine.29 days = 7 } }
		hidden_effect = {
			137 = {
				create_unit = {
					division = "name = \"Diviziya Opolcheniya\" division_template = \"Diviziya Opolcheniya\" start_experience_factor = 0.3 start_equipment_factor = 0.5"
					owner = RUS
					prioritize_location = 3722
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	
	#Не начинать
	option = {
		name = ukraine.26.b
		add_political_power = -50
		ai_chance = {
			factor = 0
		}
	}
}
# Перемога
country_event = {
	id = ukraine.27
	title = ukraine.27.t
	desc = ukraine.27.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.27.a
		if = {
			limit = { tag = RUS }
			add_political_power = -50
			add_war_support = -0.02
			GER = {
				transfer_state = 137
				hidden_effect = {
					137 = {
						create_unit = {
							division = "name = \"Mobilized garnison Division\" division_template = \"Mobilized garnison Division\" start_experience_factor = 0.15 start_equipment_factor = 0.5"
							owner = GER
						}
						create_unit = {
							division = "name = \"Mobilized garnison Division\" division_template = \"Mobilized garnison Division\" start_experience_factor = 0.15 start_equipment_factor = 0.5"
							owner = GER
						}
						create_unit = {
							division = "name = \"Mobilized garnison Division\" division_template = \"Mobilized garnison Division\" start_experience_factor = 0.15 start_equipment_factor = 0.5"
							owner = GER
						}
					}
				}
				country_event = { id = ukraine.30 days = 3 }
			}
		}
	}
}
# Зрада
country_event = {
	id = ukraine.28
	title = ukraine.28.t
	desc = ukraine.28.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.28.a
		if = {
			limit = { tag = RUS }
			add_political_power = 50
			add_war_support = 0.02
		}
		if = {
			limit = { tag = UKR }
			add_political_power = -50
			add_war_support = -0.02
		}
	}
}
# Конец
country_event = {
	id = ukraine.29
	title = ukraine.29.t
	desc = ukraine.29.d
	picture = GFX_report_event_februrary_revolution
	
	hidden = yes
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.29.a
		cancel_border_war = {
			attacker = 196
			defender = 137
		}
	}
}

# Занятие Тамани
country_event = {
	id = ukraine.30
	title = ukraine.30.t
	desc = ukraine.30.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	#Начать вторжение
	option = {
		name = ukraine.30.a
		add_political_power = 50
		if = {
			limit = { tag = GER }
			add_war_support = -0.02
			add_popularity = {
				ideology = authoritarism
				popularity = -0.03
			}
			else = {
				add_war_support = 0.03
			}
		}
		start_border_war = {
			change_state_after_war = no
			attacker = {
				state = 137
				num_provinces = 1
				on_win = ukraine.31
				on_lose = ukraine.32
				on_cancel = ukraine.32
			}
			
			defender = {
				state = 907
				num_provinces = 1
				on_win = ukraine.32
				on_lose = ukraine.31
				on_cancel = ukraine.32
			}
		}
		hidden_effect = { country_event = { id = ukraine.33 days = 7 } }
		hidden_effect = {
			907 = {
				create_unit = {
					division = "name = \"Diviziya Opolcheniya\" division_template = \"Diviziya Opolcheniya\" start_experience_factor = 0.3 start_equipment_factor = 0.5"
					owner = RUS
					prioritize_location = 3722
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	
	#Не начинать
	option = {
		name = ukraine.30.b
		add_political_power = -25
		ai_chance = {
			factor = 0
		}
	}
}
# Перемога
country_event = {
	id = ukraine.31
	title = ukraine.31.t
	desc = ukraine.31.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.31.a
		if = {
			limit = { NOT = { controls_state = 907 } }
			transfer_state = 907
		}
	}
}
# Зрада
country_event = {
	id = ukraine.32
	title = ukraine.32.t
	desc = ukraine.32.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.32.a
		if = {
			limit = { controls_state = 907 }
			add_political_power = 25
			add_war_support = 0.02
		}
		if = {
			limit = { NOT = { controls_state = 907 } }
			add_political_power = -50
			add_war_support = -0.02
		}
	}
}
# Конец
country_event = {
	id = ukraine.33
	title = ukraine.33.t
	desc = ukraine.33.d
	picture = GFX_report_event_februrary_revolution
	
	hidden = yes
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.33.a
		cancel_border_war = {
			attacker = 137
			defender = 907
		}
	}
}

# Переворот Скоропадского
country_event = {
	id = ukraine.24
	title = ukraine.24.t
	desc = ukraine.24.d
	picture = GFX_report_event_februrary_revolution
	
	is_triggered_only = yes
	
	option = {
		name = ukraine.24.a
		add_popularity = {
			ideology = authoritarism
			popularity = 0.15
		}
		set_politics = {
			ruling_party = authoritarism
			elections_allowed = no
		}
		add_ideas = {
			limited_exports
			extensive_conscription
			minimum_legislation
			interventionalism_law
			war_economy
		}
		add_ideas = UKR_zerno_in
		GER = {
			add_ideas = UKR_zerno_out
			diplomatic_relation = {
				country = UKR
				relation = military_access
				active = yes
			}
		}
		AUH = {
			diplomatic_relation = {
				country = UKR
				relation = military_access
				active = yes
			}
		}
	}
}

# Окончание интервенции РСФСР при взятии Киева до Бреста
country_event = {
	id = ukraine.100
	title = ukraine.100.t
	desc = ukraine.100.d
	picture = GFX_report_event_februrary_revolution
	
	trigger = {
		always = no
		tag = RUS
		has_war_with = UKR
		has_country_flag = RUS_brest_peace_fired
		has_global_flag = WWI_is_now
		UKR = { NOT ={ controls_state = 202 } has_war_with = USR }
		USR = { NOT = { is_puppet_of = RUS } }
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	option = {
		name = ukraine.100.a
		every_state = {
			limit = {
				is_controlled_by = RUS
				is_core_of = USR
				is_owned_by = UKR
			}
			USR = {
				set_state_controller = PREV
			}
		}
		RUS = { white_peace = UKR }
	}
}