###########################
# Russian Civil War Events
###########################

add_namespace = rcw


###### Антисоветские восстания в России ######

# Выступление Керенского-Краснова
country_event = {
	id = rcw.1
	title = rcw.1.t
	desc = rcw.1.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 0
	}
	
	option = {
		name = rcw.1.a
		hidden_effect = {
			country_event = { id = rcw.2 days = 3 }
		}
	}
}
# Восстание юнкеров в Петрограде
country_event = {
	id = rcw.2
	title = rcw.2.t
	desc = rcw.2.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.2.a
		add_political_power = -40
		add_stability = -0.02
		add_manpower = -500
		hidden_effect = {
			country_event = { id = rcw.3 days = 2 }
		}
		add_popularity = {
			ideology = communism
			popularity = -0.02
		}
	}
	
	option = {
		name = rcw.2.b
		add_political_power = -25
		add_stability = -0.01
		add_manpower = -200
		hidden_effect = {
			random_list = {
				80 = { country_event = { id = rcw.3 days = 2 } }
				20 = { country_event = { id = rcw.4 days = 2 } }
			}
		}
		add_popularity = {
			ideology = communism
			popularity = -0.01
		}
	}
}
# Перемога
country_event = {
	id = rcw.3
	title = rcw.3.t
	desc = rcw.3.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.3.a
		add_political_power = 50
		add_stability = 0.05
		add_manpower = -300
	}
}
# Зрада
country_event = {
	id = rcw.4
	title = rcw.4.t
	desc = rcw.4.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.4.a
		add_political_power = -200
		add_stability = -0.05
		set_country_flag = RUS_Ker_Kras_rev_win_maybe
		add_manpower = -1000
		add_popularity = {
			ideology = communism
			popularity = -0.04
		}
	}
}

# Начало операции Красной Гвардии против реакционных сил на Дону
country_event = {
	id = rcw.10
	title = rcw.10.t
	desc = rcw.10.d
	picture = GFX_report_event_sov_redarmy
	
	is_triggered_only = yes
	
	option = {
		name = rcw.10.a
		add_stability = 0.03
		load_oob = RUS_Antonov_Ovseenko
		if = {
			limit = { DON = { NOT = { has_government = communism has_government = radical_socialism } } }
			declare_war_on = {
				target = DON
				type = annex_everything
			}
		}
		if = {
			limit = { RVA = { exists = yes NOT = { has_government = communism has_government = radical_socialism } } }
			RVA = {
				declare_war_on = {
					target = RUS
					type = annex_everything
				}
			}
		}
		if = {
			limit = { UKR = { exists = yes NOT = { has_government = communism has_government = radical_socialism } } }
			UKR = { country_event = ukraine.10 }
		}
		hidden_effect = {
			every_country = {
				limit = { original_tag = DON }
				add_ideas = alliance_neutrality
			}
		}
	}
}

# Восстание забайкальских казаков против большевиков
country_event = {
	id = rcw.20
	title = rcw.20.t
	desc = {
		text = rcw.20.d
		trigger = {
			OR = {
				has_government = radical_socialism
				has_government = communism
			}
		}
	}
	desc = {
		text = rcw.20.d_1
		trigger = {
			NOT = {
				has_government = radical_socialism
				has_government = communism
			}
		}
	}
	picture = GFX_report_event_rus_kazaks_war
	
	trigger = {
		tag = RUS
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = RUS_all_russian_constituent_assembly_second_session_land_reform
		}
		NOT = { has_country_flag = RUS_cossacks_were_disbanded }
		NOT = { has_country_flag = RUS_cossacks_bolshevized }
		BKL = { exists = no }
	}
	
	mean_time_to_happen = {
		days = 35
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			every_unit_leader = { limit = { has_id = 77299 } set_nationality = BKL }
			BKL = {
				transfer_state = 761
				add_ideas = alliance_neutrality
			}
			delete_unit_template_and_units = {
				division_template = "Kazach'ya brigada"
			}
		}
	}
	
	option = {
		name = rcw.20.a
		if = { limit = { RUS = { has_country_flag = RUS_Oktober_revolution_fired } } RUS = {load_oob = RUS_Chita_red_guard } }
		BKL = {
			hidden_effect = { country_event = { id = rcw.21 days = 2 } }
		}
	}
	option = {
		name = rcw.20.b
		trigger = {
			is_ai = no
		}
		trigger = {
			OR = {
				has_government = radical_socialism
				has_government = communism
			}
		}
		if = { limit = { RUS = { has_country_flag = RUS_Oktober_revolution_fired } } RUS = {load_oob = RUS_Chita_red_guard } }
		BKL = {
			change_tag_from = RUS
			hidden_effect = { country_event = { id = rcw.21 days = 2 } }
		}
	}
	option = {
		name = rcw.20.c
		trigger = {
			is_ai = no
		}
		trigger = {
			NOT = {
				has_government = radical_socialism
				has_government = communism
			}
		}
		BKL = {
			change_tag_from = RUS
			hidden_effect = { country_event = { id = rcw.21 days = 2 } }
		}
	}
}
country_event = {
	id = rcw.21
	
	title = rcw.21.t
	desc = rcw.21.d
	
	is_triggered_only = yes
	
	option = {
		name = rcw.21.a
		set_province_controller = 4677
		set_province_controller = 4719
		set_province_controller = 7725
		set_province_controller = 7786
#		set_province_controller = 10559
#		set_province_controller = 12622
#		set_province_controller = 13206
#		set_province_controller = 13207
#		set_province_controller = 13208
		declare_war_on = {
			target = RUS
			type = annex_everything
		}
		load_oob = BKL_cossaks
	}
}

# Общеказахский съезд
country_event = {
	id = rcw.60
	title = rcw.60.t
	desc = rcw.60.d
	picture = GFX_report_event_sov_redarm
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			KAZ = {
				set_cosmetic_tag = KAZ_ALASH
			}
		}
	}
	mean_time_to_happen = {
		days = 38
	}
	
	option = {
		name = rcw.60.a
		add_stability = 0.03
		KAZ = {
			transfer_state = 404
			transfer_state = 583
			transfer_state = 588
			transfer_state = 590
			transfer_state = 908
			load_oob = KAZ_1917
		}
		set_temp_variable = { temp1 = KAZ.num_controlled_states }
		set_temp_variable = { temp2 = RUS.num_controlled_states }
		
		set_temp_variable = { temp3 = KAZ.party_popularity@social_democracy }
		divide_temp_variable = { temp3 = temp2 }
		multiply_temp_variable = { temp3 = temp1 }
		multiply_temp_variable = { temp3 = -1 }
		add_popularity = { ideology = social_democracy popularity = temp3 }
		
		set_temp_variable = { temp4 = KAZ.party_popularity@social_liberalism }
		divide_temp_variable = { temp4 = temp2 }
		multiply_temp_variable = { temp4 = temp1 }
		multiply_temp_variable = { temp4 = -1 }
		add_popularity = { ideology = social_liberalism popularity = temp4 }
		
		set_temp_variable = { temp5 = KAZ.party_popularity@market_liberalism }
		divide_temp_variable = { temp5 = temp2 }
		multiply_temp_variable = { temp5 = temp1 }
		multiply_temp_variable = { temp5 = -1 }
		add_popularity = { ideology = market_liberalism popularity = temp5 }
		
		set_temp_variable = { temp6 = KAZ.party_popularity@social_conservatism }
		divide_temp_variable = { temp6 = temp2 }
		multiply_temp_variable = { temp6 = temp1 }
		multiply_temp_variable = { temp6 = -1 }
		add_popularity = { ideology = social_conservatism popularity = temp6 }
		
		set_temp_variable = { temp7 = KAZ.party_popularity@authoritarism }
		divide_temp_variable = { temp7 = temp2 }
		multiply_temp_variable = { temp7 = temp1 }
		multiply_temp_variable = { temp7 = -1 }
		add_popularity = { ideology = authoritarism popularity = temp7 }
		
		set_temp_variable = { temp8 = KAZ.party_popularity@despotism }
		divide_temp_variable = { temp8 = temp2 }
		multiply_temp_variable = { temp8 = temp1 }
		multiply_temp_variable = { temp8 = -1 }
		add_popularity = { ideology = despotism popularity = temp8 }
		
		set_temp_variable = { temp9 = KAZ.party_popularity@fascism }
		divide_temp_variable = { temp9 = temp2 }
		multiply_temp_variable = { temp9 = temp1 }
		multiply_temp_variable = { temp9 = -1 }
		add_popularity = { ideology = fascism popularity = temp9 }
		
		set_temp_variable = { temp10 = KAZ.party_popularity@national_syndicalism }
		divide_temp_variable = { temp10 = temp2 }
		multiply_temp_variable = { temp10 = temp1 }
		multiply_temp_variable = { temp10 = -1 }
		add_popularity = { ideology = national_syndicalism popularity = temp10 }
	}
	option = {
		name = rcw.60.b
		trigger = {
			is_ai = no
		}
		KAZ = {
			transfer_state = 404
			transfer_state = 583
			transfer_state = 588
			transfer_state = 590
			transfer_state = 908
			load_oob = KAZ_1917
			change_tag_from = RUS
		}
		set_temp_variable = { temp1 = KAZ.num_controlled_states }
		set_temp_variable = { temp2 = RUS.num_controlled_states }
		
		set_temp_variable = { temp3 = KAZ.party_popularity@social_democracy }
		divide_temp_variable = { temp3 = temp2 }
		multiply_temp_variable = { temp3 = temp1 }
		multiply_temp_variable = { temp3 = -1 }
		add_popularity = { ideology = social_democracy popularity = temp3 }
		
		set_temp_variable = { temp4 = KAZ.party_popularity@social_liberalism }
		divide_temp_variable = { temp4 = temp2 }
		multiply_temp_variable = { temp4 = temp1 }
		multiply_temp_variable = { temp4 = -1 }
		add_popularity = { ideology = social_liberalism popularity = temp4 }
		
		set_temp_variable = { temp5 = KAZ.party_popularity@market_liberalism }
		divide_temp_variable = { temp5 = temp2 }
		multiply_temp_variable = { temp5 = temp1 }
		multiply_temp_variable = { temp5 = -1 }
		add_popularity = { ideology = market_liberalism popularity = temp5 }
		
		set_temp_variable = { temp6 = KAZ.party_popularity@social_conservatism }
		divide_temp_variable = { temp6 = temp2 }
		multiply_temp_variable = { temp6 = temp1 }
		multiply_temp_variable = { temp6 = -1 }
		add_popularity = { ideology = social_conservatism popularity = temp6 }
		
		set_temp_variable = { temp7 = KAZ.party_popularity@authoritarism }
		divide_temp_variable = { temp7 = temp2 }
		multiply_temp_variable = { temp7 = temp1 }
		multiply_temp_variable = { temp7 = -1 }
		add_popularity = { ideology = authoritarism popularity = temp7 }
		
		set_temp_variable = { temp8 = KAZ.party_popularity@despotism }
		divide_temp_variable = { temp8 = temp2 }
		multiply_temp_variable = { temp8 = temp1 }
		multiply_temp_variable = { temp8 = -1 }
		add_popularity = { ideology = despotism popularity = temp8 }
		
		set_temp_variable = { temp9 = KAZ.party_popularity@fascism }
		divide_temp_variable = { temp9 = temp2 }
		multiply_temp_variable = { temp9 = temp1 }
		multiply_temp_variable = { temp9 = -1 }
		add_popularity = { ideology = fascism popularity = temp9 }
		
		set_temp_variable = { temp10 = KAZ.party_popularity@national_syndicalism }
		divide_temp_variable = { temp10 = temp2 }
		multiply_temp_variable = { temp10 = temp1 }
		multiply_temp_variable = { temp10 = -1 }
		add_popularity = { ideology = national_syndicalism popularity = temp10 }
	}
}

# Восстание матросов Кронштадта
country_event = {
	id = rcw.80
	title = rcw.80.t
	desc = rcw.80.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		always = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.80.a
		ai_chance = {
			factor = 999
		}
	}
	option = {
		name = rcw.80.b
		ai_chance = {
			factor = 999
		}
	}
}

#########Большевистское восстание в Сибири######
country_event = {
	id = rcw.201
	title = rcw.201.t
	desc = rcw.201.d
	picture = GFX_report_event_rcw_sibir_uprising
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_karaul_ustal
		NOT = { has_country_flag = RUS_Oktober_revolution_fired }
		SIB = { exists = no }
	}
	
	desc = {
		text = rcw.201.d_ger
		trigger = {
			has_global_flag = WWI_RUS_HAS_CAPITULATED
		}
	}
	
	mean_time_to_happen = {
		days = 70
	}
	
	immediate = {
		hidden_effect = {
			SIB = {
				set_politics = {
					parties = {
						radical_socialism = { popularity = 40 }
						communism = { popularity = 35 }
						authoritarism = { popularity = 0 }
						social_democracy = { popularity = 0 }
						social_liberalism = { popularity = 25 }
						market_liberalism = { popularity = 0 }
						social_conservatism = { popularity = 0 }
						despotism = { popularity = 0 }
						fascism = { popularity = 0 }
						national_syndicalism = { popularity = 0 }
					}
					ruling_party = radical_socialism
				}
				set_cosmetic_tag = SIB_SOV
			}
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.201.a
		SIB = {
			transfer_state = 403
			transfer_state = 569
			transfer_state = 516
			transfer_state = 570
			transfer_state = 571
			transfer_state = 576
			transfer_state = 577
			transfer_state = 578
			transfer_state = 579
			transfer_state = 580
			load_oob = SIB_1918
		}
		release = TAN
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw.201.b
		trigger = {
			is_ai = no
		}
		SIB = {
			transfer_state = 403
			transfer_state = 569
			transfer_state = 516
			transfer_state = 570
			transfer_state = 571
			transfer_state = 576
			transfer_state = 577
			transfer_state = 578
			transfer_state = 579
			transfer_state = 580
			load_oob = SIB_1918
			change_tag_from = RUS
		}
		release = TAN
	}
}

#########Большевистский Комитет членов Учредительного Собрания######
country_event = {
	id = rcw.202
	title = rcw.202.t
	desc = rcw.202.d
	picture = GFX_report_event_rcw_sibir_uprising
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_karaul_ustal
		NOT = { has_country_flag = RUS_Oktober_revolution_fired }
		has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
		CCA = { exists = no }
	}
	
	desc = {
		text = rcw.202.d_ger
		trigger = {
			has_global_flag = WWI_RUS_HAS_CAPITULATED
		}
	}
	
	mean_time_to_happen = {
		days = 70
	}
	
	immediate = {
		hidden_effect = {
			CCA = {
				set_capital = 251
				set_politics = {
					parties = {
						radical_socialism = { popularity = 20 }
						communism = { popularity = 75 }
						authoritarism = { popularity = 0 }
						social_democracy = { popularity = 0 }
						social_liberalism = { popularity = 5 }
						market_liberalism = { popularity = 0 }
						social_conservatism = { popularity = 0 }
						despotism = { popularity = 0 }
						fascism = { popularity = 0 }
						national_syndicalism = { popularity = 0 }
					}
					ruling_party = communism
				}
				set_cosmetic_tag = CCA_SOV
			}
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.202.a
		CCA = {
			transfer_state = 254
			transfer_state = 253
			transfer_state = 248
			add_state_core = 254
			add_state_core = 253
			add_state_core = 248
			if = { limit = { RUS = { controls_state = 12 } } transfer_state = 12 add_state_core = 12 else = { set_state_owner = 12 } }
			if = { limit = { RUS = { controls_state = 205 } } transfer_state = 205 add_state_core = 205 else = { set_state_owner = 205 } }
			if = { limit = { RUS = { controls_state = 206 } } transfer_state = 206 add_state_core = 206 else = { set_state_owner = 206 } }
			if = { limit = { RUS = { controls_state = 207 } } transfer_state = 207 add_state_core = 207 else = { set_state_owner = 207 } }
			if = { limit = { RUS = { controls_state = 926 } } transfer_state = 926 add_state_core = 926 else = { set_state_owner = 926 } }
			if = { limit = { RUS = { controls_state = 208 } } transfer_state = 208 add_state_core = 208 else = { set_state_owner = 208 } }
			if = { limit = { RUS = { controls_state = 209 } } transfer_state = 209 add_state_core = 209 else = { set_state_owner = 209 } }
			if = { limit = { RUS = { controls_state = 210 } } transfer_state = 210 add_state_core = 210 else = { set_state_owner = 210 } }
			if = { limit = { RUS = { controls_state = 219 } } transfer_state = 219 add_state_core = 219 else = { set_state_owner = 219 } }
			if = { limit = { RUS = { controls_state = 223 } } transfer_state = 223 add_state_core = 223 else = { set_state_owner = 223 } }
			if = { limit = { RUS = { controls_state = 241 } } transfer_state = 241 add_state_core = 241 else = { set_state_owner = 241 } }
			if = { limit = { RUS = { controls_state = 922 } } transfer_state = 922 add_state_core = 922 else = { set_state_owner = 922 } }
			if = { limit = { RUS = { controls_state = 242 } } transfer_state = 242 add_state_core = 242 else = { set_state_owner = 242 } }
			if = { limit = { RUS = { controls_state = 243 } } transfer_state = 243 add_state_core = 243 else = { set_state_owner = 243 } }
			if = { limit = { RUS = { controls_state = 244 } } transfer_state = 244 add_state_core = 244 else = { set_state_owner = 244 } }
			if = { limit = { RUS = { controls_state = 246 } } transfer_state = 246 add_state_core = 246 else = { set_state_owner = 246 } }
			if = { limit = { RUS = { controls_state = 247 } } transfer_state = 247 add_state_core = 247 else = { set_state_owner = 247 } }
			if = { limit = { RUS = { controls_state = 263 } } transfer_state = 263 add_state_core = 263 else = { set_state_owner = 263 } }
			if = { limit = { RUS = { controls_state = 264 } } transfer_state = 264 add_state_core = 264 else = { set_state_owner = 264 } }
			if = { limit = { RUS = { controls_state = 865 } } transfer_state = 865 add_state_core = 865 else = { set_state_owner = 865 } }
			if = { limit = { RUS = { controls_state = 866 } } transfer_state = 866 add_state_core = 866 else = { set_state_owner = 866 } }
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			declare_war_on = {
				target = GER
				type = annex_everything
			}
			declare_war_on = {
				target = AUH
				type = annex_everything
			}
			load_oob = CCA_1918
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw.202.b
		trigger = {
			is_ai = no
		}
		CCA = {
			transfer_state = 254
			transfer_state = 253
			transfer_state = 248
			add_state_core = 254
			add_state_core = 253
			add_state_core = 248
			if = { limit = { RUS = { controls_state = 12 } } transfer_state = 12 add_state_core = 12 else = { set_state_owner = 12 } }
			if = { limit = { RUS = { controls_state = 205 } } transfer_state = 205 add_state_core = 205 else = { set_state_owner = 205 } }
			if = { limit = { RUS = { controls_state = 206 } } transfer_state = 206 add_state_core = 206 else = { set_state_owner = 206 } }
			if = { limit = { RUS = { controls_state = 207 } } transfer_state = 207 add_state_core = 207 else = { set_state_owner = 207 } }
			if = { limit = { RUS = { controls_state = 926 } } transfer_state = 926 add_state_core = 926 else = { set_state_owner = 926 } }
			if = { limit = { RUS = { controls_state = 208 } } transfer_state = 208 add_state_core = 208 else = { set_state_owner = 208 } }
			if = { limit = { RUS = { controls_state = 209 } } transfer_state = 209 add_state_core = 209 else = { set_state_owner = 209 } }
			if = { limit = { RUS = { controls_state = 210 } } transfer_state = 210 add_state_core = 210 else = { set_state_owner = 210 } }
			if = { limit = { RUS = { controls_state = 219 } } transfer_state = 219 add_state_core = 219 else = { set_state_owner = 219 } }
			if = { limit = { RUS = { controls_state = 223 } } transfer_state = 223 add_state_core = 223 else = { set_state_owner = 223 } }
			if = { limit = { RUS = { controls_state = 241 } } transfer_state = 241 add_state_core = 241 else = { set_state_owner = 241 } }
			if = { limit = { RUS = { controls_state = 922 } } transfer_state = 922 add_state_core = 922 else = { set_state_owner = 922 } }
			if = { limit = { RUS = { controls_state = 242 } } transfer_state = 242 add_state_core = 242 else = { set_state_owner = 242 } }
			if = { limit = { RUS = { controls_state = 243 } } transfer_state = 243 add_state_core = 243 else = { set_state_owner = 243 } }
			if = { limit = { RUS = { controls_state = 244 } } transfer_state = 244 add_state_core = 244 else = { set_state_owner = 244 } }
			if = { limit = { RUS = { controls_state = 246 } } transfer_state = 246 add_state_core = 246 else = { set_state_owner = 246 } }
			if = { limit = { RUS = { controls_state = 247 } } transfer_state = 247 add_state_core = 247 else = { set_state_owner = 247 } }
			if = { limit = { RUS = { controls_state = 263 } } transfer_state = 263 add_state_core = 263 else = { set_state_owner = 263 } }
			if = { limit = { RUS = { controls_state = 264 } } transfer_state = 264 add_state_core = 264 else = { set_state_owner = 264 } }
			if = { limit = { RUS = { controls_state = 865 } } transfer_state = 865 add_state_core = 865 else = { set_state_owner = 865 } }
			if = { limit = { RUS = { controls_state = 866 } } transfer_state = 866 add_state_core = 866 else = { set_state_owner = 866 } }
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			declare_war_on = {
				target = GER
				type = annex_everything
			}
			declare_war_on = {
				target = AUH
				type = annex_everything
			}
			load_oob = CCA_1918
			change_tag_from = RUS
		}
	}
}

###### Эвенты большевиков ######

# Декрет «К открытию Учредительного собрания»
country_event = {
	id = rcw.101
	title = rcw.101.t
	desc = rcw.101.d
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	# Немедленный созыв учредительного собрания
	option = {
		name = rcw.101.a 
		country_event = { id = all_rus_CA.1 days = 60 }
	}
}

# II Всероссийский съезд Советов
country_event = {
	id = rcw.102
	title = rcw.102.t
	picture = GFX_report_event_sov_2nd_congress_of_soviets_of_russia
	
	desc = {
		text = rcw.102.d
		trigger = { has_country_flag = RUS_Oktober_revolution_fired }
	}
	desc = {
		text = rcw.102.d_1
		trigger = { NOT = { has_country_flag = RUS_Oktober_revolution_fired } }
	}
	
	trigger = {
		NOT = { has_country_flag = RUS_second_allrussian_congress_of_soviets }
	}
	
	is_triggered_only = yes
	
	# Победа большевиков
	option = {
		name = rcw.102.a
		trigger = { has_country_flag = RUS_Oktober_revolution_fired }
		set_country_flag = RUS_second_allrussian_congress_of_soviets
		add_political_power = 50
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.15
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.05
		}
		add_popularity = {
			ideology = market_liberalism
			popularity = 0.05
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		hidden_effect = {
			country_event = { id = rcw.103 days = 1 }
		}
	}
	
	# Провал восстания большевиков
	option = {
		name = rcw.102.b
		trigger = { NOT = { has_country_flag = RUS_Oktober_revolution_fired } }
		set_country_flag = RUS_second_allrussian_congress_of_soviets
		set_country_flag = RUS_Bolsheviks_majority
		add_political_power = -50
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.15
		}
	}
}

# Протест умеренных социалистических партий
country_event = {
	id = rcw.103
	title = rcw.103.t
	desc = rcw.103.d
	picture = GFX_report_event_sov_protest_of_moderate_socialists_against_the_bolsheviksv
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.103.a
		hidden_effect = {
			country_event = { id = rcw.104 hours = 3 }
		}
	}
}

# Переговоры о коалиционном правительстве
country_event = {
	id = rcw.104
	title = rcw.104.t
	desc = rcw.104.d
	picture = GFX_report_event_sov_protest_bolsheviks_and_ms_coalition_treatry
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	# Провал переговоров
	option = {
		name = rcw.104.a
		add_political_power = 100
		hidden_effect = { country_event = { id = rcw.105 hours = 36 } }
	}
	
	# Удаётся организовать однородное социалистическое правительство
	option = {
		trigger = {
			NOT = { has_country_flag = RUS_Ker_Kras_rev_win_maybe }
		}
		name = rcw.104.b
		hidden_effect = { country_event = { id = rcw.106 hours = 36 } }
	}
}

# Формирование коалиции с левыми эсерами
country_event = {
	id = rcw.105
	title = rcw.105.t
	desc = rcw.105.d
	picture = GFX_report_event_sov_left_socialist-revolutionary_insurrection
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.105.a
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.05
		}
		clr_country_flag = political_radical_socialists_not_in_socialist_coalition
		clr_country_flag = political_communists_not_in_socialist_coalition
	}
}

# Формирование однородного социалистического правительства
country_event = {
	id = rcw.106
	title = rcw.106.t
	desc = rcw.106.d
	picture = GFX_report_event_sov_homogeneous_socialist_government
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.106.a
		homogeneous_socialist_government_bolsheviks = yes
	}
}

# III Всероссийский съезд Советов
country_event = {
	id = rcw.107
	title = rcw.107.t
	desc = {
		text = rcw.107.d
		trigger = { has_country_flag = RUS_karaul_ustal }
	}
	desc = {
		text = rcw.107.d_1
		trigger = { NOT = { has_country_flag = RUS_karaul_ustal } }
	}
	picture = GFX_report_event_sov_3rd-5th_congress_of_soviets_of_russia_and_other
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	# В случае разгона
	option = {
		name = rcw.107.a
		trigger = { has_country_flag = RUS_karaul_ustal }
		set_country_flag = RUS_third_allrussian_congress_of_soviets
		add_political_power = 50
		add_stability = 0.05
		add_popularity = {
			ideology = social_democracy
			popularity = -0.05
		}
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.05
		}
	}
	# В случае легитимизации большевиков на учредительном
	option = {
		name = rcw.107.b
		trigger = { NOT = { has_country_flag = RUS_karaul_ustal } }
		set_country_flag = RUS_third_allrussian_congress_of_soviets
	}
}

# IV Всероссийский съезд Советов
country_event = {
	id = rcw.108
	title = rcw.108.t
	desc = rcw.108.d
	picture = GFX_report_event_sov_3rd-5th_congress_of_soviets_of_russia_and_other
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		set_capital = 219
	}
	
	# Мир с Германией
	option = {
		trigger = { has_country_flag = brest_hard }
		name = rcw.108.a
		GER = { country_event = treaty_of_brest.31 }
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
	}
	# Мир с Германией
	option = {
		trigger = { has_country_flag = brest_average }
		name = rcw.108.b
		GER = { country_event = treaty_of_brest.32 }
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
	}
	# Мир с Германией
	option = {
		trigger = { has_country_flag = brest_soft }
		name = rcw.108.c
		GER = { country_event = treaty_of_brest.33 }
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
	}
	# Мир с Германией
	option = {
		trigger = { has_country_flag = brest_hardest }
		name = rcw.108.e
		GER = { country_event = treaty_of_brest.31 }#GER = { country_event = treaty_of_brest.34 }
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
	}
	# Продолжение войны
	option = {
		trigger = { NOT = { has_country_flag = brest_hard has_country_flag = brest_average has_country_flag = brest_hardest } }
		name = rcw.108.f
		add_to_variable = {
			var = global.red_alert
			value = 5
		}
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
		ai_chance = {
			factor = 1
		}
	}
}

# Отделение Эстонии
country_event = {
	id = rcw.109
	title = rcw.109.t
	desc = rcw.109.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_fourth_allrussian_congress_of_soviets
		has_country_flag = brest_soft
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	immediate = {
		EST = {
			transfer_state = 13
			transfer_state = 914
			transfer_state = 920
			transfer_state = 921
		}
	}
	
	#Выжидать
	option = {
		name = rcw.109.a
	}
	
	#Признать независимость
	option = {
		name = rcw.109.b
		add_political_power = 50
		add_stability = 0.02
		EST = {
			transfer_state = 191
			transfer_state = 915
			transfer_state = 916
		}
	}
}

# Декрет «О постепенном сокращении численности армии»
country_event = {
	id = rcw.111
	title = rcw.111.t
	desc = rcw.111.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Gvardeyskaya Pekhotnaya Diviziya"
			}
			set_country_flag = RUS_opening_demobilisation
		}
	}
	
	option = {
		name = rcw.111.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -250
			producer = RUS
		}
		hidden_effect = { country_event = { id = rcw.112 days = 6 random = 8 } }
	}
}
# Демобилизация призыва 1900-го года
country_event = {
	id = rcw.112
	title = rcw.112.t
	desc = rcw.112.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_opening_demobilisation
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
		}
	}
	
	option = {
		name = rcw.112.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -500
			producer = RUS
		}
		hidden_effect = { country_event = { id = rcw.113 days = 12 random = 7 } }
	}
}
# Демобилизация призыва 1901-го года
country_event = {
	id = rcw.113
	title = rcw.113.t
	desc = rcw.113.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_opening_demobilisation
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
		}
	}
	
	option = {
		name = rcw.113.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
		}
		clr_country_flag = RUS_opening_demobilisation
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -500
			producer = RUS
		}
	}
}

# Всероссийское совещание по продовольствию, снабжению и демобилизации армии
country_event = {
	id = rcw.114
	title = rcw.114.t
	desc = rcw.114.d
	picture = GFX_report_event_sov_comitet
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
			has_idea = RUS_collapse_of_railway_system_5
		}
		OR = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 20
	}
	
	option = {
		name = rcw.114.a
		add_political_power = 10
		set_country_flag = central_committee_on_army_supply_and_food
	}
}

# Общеармейский съезд по демобилизации армии
country_event = {
	id = rcw.115
	title = rcw.115.t
	desc = {
		text = rcw.115.d
		trigger = {
			has_completed_focus = RUS_red_separate_peace
		}
	}
	desc = {
		text = rcw.115.d_1
		trigger = {
			NOT = { has_completed_focus = RUS_red_separate_peace }
		}
	}
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	#Начать демобилизацию
	option = {
		ai_chance = {
			factor = 1
		}
		name = rcw.115.a
		add_political_power = 10
		hidden_effect = {
			country_event = { id = rcw.116 days = 3 }
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
	
	#В полной демобилизации нет нужды
	option = {
		name = rcw.115.b
		trigger = { is_ai = no }
		ai_chance = {
			factor = 0
		}
		add_political_power = 10
		hidden_effect = {
			if = {
				limit = {
					OR = {
						has_idea = foodstuffs_supply_crisis_1
						has_idea = foodstuffs_supply_crisis_2
						has_idea = foodstuffs_supply_crisis_3
						has_idea = foodstuffs_supply_crisis_4
						has_idea = foodstuffs_supply_crisis_5
					}
				}
				country_event = { id = rcw.118 days = 7 }
				else = {
					country_event = { id = rcw.116 days = 3 }
				}
			}
		}
	}
}
# Проблема оружия
country_event = {
	id = rcw.116
	title = rcw.116.t
	desc = rcw.116.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 0
		}
		name = rcw.116.a
		add_political_power = 50
		add_popularity = {
			ideology = communism
			popularity = -0.01
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -2000
			producer = RUS
		}
		country_event = { id = rcw.117 days = 4 }
	}
	option = {
		name = rcw.116.b
		add_political_power = -20
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		set_country_flag = RUS_demob_steal_arms
		country_event = { id = rcw.117 days = 4 }
	}
}
country_event = {
	id = rcw.117
	title = rcw.117.t
	desc = {
		text = rcw.117.d
		trigger = {
			has_completed_focus = RUS_red_separate_peace
		}
	}
	desc = {
		text = rcw.117.d_1
		trigger = {
			NOT = { has_completed_focus = RUS_red_separate_peace }
		}
	}
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.117.a
		add_political_power = 10
		country_event = { id = rcw.121 days = 7 }
		country_event = { id = rcw.122 days = 13 }
		country_event = { id = rcw.123 days = 26 }
		country_event = { id = rcw.124 days = 44 }
		country_event = { id = rcw.125 days = 58 }
		add_popularity = {
			ideology = communism
			popularity = 0.03
		}
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
		set_country_flag = RUS_full_demobilisation
	}
}
country_event = {
	id = rcw.118
	title = rcw.118.t
	desc = rcw.118.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
	}
	
	option = {
		name = rcw.118.a
		add_political_power = -100
		add_war_support = -0.05
		add_popularity = {
			ideology = communism
			popularity = -0.07
		}
		country_event = { id = rcw.121 days = 7 }
		country_event = { id = rcw.122 days = 13 }
		country_event = { id = rcw.123 days = 26 }
		country_event = { id = rcw.124 days = 44 }
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
		remove_ideas = {
			RUS_Order_N_1_1
			RUS_Order_N_1_2
			RUS_Order_N_1_3
		}
		add_ideas = RUS_Order_N_1_4
		add_ideas = mutiny_1
		country_event = stability.23
		set_country_flag = RUS_full_demobilisation
	}
}

# Демобилизация призыва 1903-го года
country_event = {
	id = rcw.121
	title = rcw.121.t
	desc = rcw.121.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
		}
	}
	
	option = {
		name = rcw.121.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -1400
			producer = RUS
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -3200
				producer = RUS
			}
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
}
# Демобилизация призыва 1904-1907 годов
country_event = {
	id = rcw.122
	title = rcw.122.t
	desc = rcw.122.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1904-1907 godov"
			}
		}
	}
	
	option = {
		name = rcw.122.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1904-1907 godov"
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -1500
			producer = RUS
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -3000
				producer = RUS
			}
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
}
# Демобилизация призыва 1908-1909 годов
country_event = {
	id = rcw.123
	title = rcw.123.t
	desc = rcw.123.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1908-1909 godov"
			}
		}
	}
	
	option = {
		name = rcw.123.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1908-1909 godov"
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -1300
			producer = RUS
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2700
				producer = RUS
			}
		}
		RUS_Order_N_1_fall = yes
	}
}
# Демобилизация призыва 1910-1912 годов
country_event = {
	id = rcw.124
	title = rcw.124.t
	desc = rcw.124.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1910-1912 godov"
			}
			delete_unit_template_and_units = {
				division_template = "Kavaleriyskaya Diviziya"
			}
		}
	}
	
	option = {
		name = rcw.124.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1910-1912 godov"
			}
		}
		if = {
			limit = { has_idea = RUS_collapse_of_railway_system_4 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_4
				add_idea = RUS_collapse_of_railway_system_3
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_3
				add_idea = foodstuffs_supply_crisis_2
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_4
				add_idea = foodstuffs_supply_crisis_3
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_5
				add_idea = foodstuffs_supply_crisis_4
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -1700
			producer = RUS
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2400
				producer = RUS
			}
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
}
# Демобилизация призыва 1913-1915 годов
country_event = {
	id = rcw.125
	title = rcw.125.t
	desc = rcw.125.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1913-1915 godov"
			}
		}
	}
	
	option = {
		name = rcw.125.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1913-1915 godov"
			}
		}
		if = {
			limit = { has_idea = RUS_collapse_of_railway_system_4 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_4
				add_idea = RUS_collapse_of_railway_system_3
			}
		}
		if = {
			limit = { has_idea = RUS_collapse_of_railway_system_5 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_5
				add_idea = RUS_collapse_of_railway_system_4
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_4
				add_idea = foodstuffs_supply_crisis_3
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_5
				add_idea = foodstuffs_supply_crisis_4
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -800
			producer = RUS
		}
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1500
				producer = RUS
			}
		}
		RUS_Order_N_1_fall = yes
	}
}

# Формирование завес
country_event = {
	id = rcw.127
	title = rcw.127.t
	desc = rcw.127.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		OR = {
			has_country_flag = RUS_fourth_allrussian_congress_of_soviets
			has_completed_focus = RUS_vsevobuch
		}
		has_completed_focus = RUS_WPRA
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.126.a
		add_political_power = 50
		add_war_support = 0.025
		if = {
			limit = { NOT = { has_war_with = GER } }
			load_oob = "RUS_zavesa"
			else = {
				load_oob = "RUS_zavesa_r"
			}
		}
	}
}

# Разгром Чёрной гвардии
country_event = {
	id = rcw.198
	title = rcw.198.t
	desc = rcw.198.d
	picture = report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = defeat_of_black_guard }
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.198.a
		set_country_flag = defeat_of_black_guard
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.15
		}
	}
}

# Уход в отставку министров от Левых Эсеров
country_event = {
	id = rcw.199
	title = rcw.199.t
	desc = rcw.199.d
	picture = GFX_report_event_sov_protest_of_moderate_socialists_against_the_bolsheviksv
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_brest_peace_fired
		has_government = communism
		NOT = { has_country_flag = RUS_left_SR_revolt }
		NOT = { has_war_with = GER }
		NOT = { has_completed_focus = RUS_left_eser_focus }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.199.a
		add_political_power = -25
		remove_ideas_with_trait = radical_socialist_counselor
		if = {
			limit = { has_country_flag = RUS_soviet_power_flag }
			add_to_variable = { var = RUS_soviet_power_control value = -1 }
			add_to_variable = { var = RUS_party_power_control value = 1 }
		}
		#country_event = { id = rcw.104 days = 90 }
	}
}
# Восстание Левых Эсеров
country_event = {
	id = rcw.200
	title = rcw.200.t
	desc = rcw.200.d
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_brest_peace_fired
		OR = {
			has_country_flag = brest_hardest
			has_country_flag = brest_hard
			has_country_flag = brest_average
		}
		has_government = communism
		NOT = { has_country_flag = RUS_left_SR_revolt }
		radical_socialism > 0.05
		NOT = { has_global_flag = WWI_GER_HAS_CAPITULATED }
		NOT = { has_country_flag = political_radical_socialists_not_in_socialist_coalition }
	}
	
	is_triggered_only = yes
	
	#
	option = {
		name = rcw.200.a
		set_country_flag = RUS_left_SR_revolt
		add_stability = -0.05
		add_political_power = 50
		remove_ideas_with_trait = radical_socialist_counselor
		if = {
			limit = { has_country_flag = RUS_soviet_power_flag }
			add_to_variable = { var = RUS_soviet_power_control value = -1 }
			add_to_variable = { var = RUS_party_power_control value = 1 }
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.15
		}
		clr_country_flag = political_radical_socialists_not_in_socialist_coalition
		ai_chance = {
			factor = 80
		}
	}
	#
	option = {
		name = rcw.200.b
		set_country_flag = RUS_left_SR_revolt
		add_stability = -0.05
		add_political_power = 50
		remove_ideas_with_trait = radical_socialist_counselor
		if = {
			limit = { has_country_flag = RUS_soviet_power_flag }
			add_to_variable = { var = RUS_soviet_power_control value = -1 }
			add_to_variable = { var = RUS_party_power_control value = 1 }
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.15
		}
		clr_country_flag = political_radical_socialists_not_in_socialist_coalition
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

###### Эвенты взаиводействия белых и Антанты ######

# Поставки вооружение от Антанты
country_event = {
	id = rcw.300
	title = rcw.300.t
	desc = rcw.300.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	option = {
		name = rcw.300.a
		FROM = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 1000
				target = ROOT
			}
		}
		add_to_variable = { global.Entente_support_limit = 1 }
		add_to_variable = { global.Entente_support_count = 1 }
	}
	option = {
		name = rcw.300.b
		trigger = {
			is_ai = no
		}
	}
}


# Начало продовольственного кризиса
country_event = {
	id = rcw.1001
	title = rcw.1001.t
	desc = rcw.1001.d
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		has_idea = RUS_peasant_question
		NOT = { has_global_flag = RUS_civil_war_over }
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
			has_idea = RUS_collapse_of_railway_system_5
		}
		NOT = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
		OR = {
			controls_state = 195
			controls_state = 219
		}
		OR = {
			SIB = { exists = yes }
			CCA = { exists = yes }
			RSS = { exists = yes }
			DON = { exists = yes }
			RVA = { exists = yes }
		}
		OR = {
			has_war_with = SIB
			has_war_with = CCA
			has_war_with = RSS
			has_war_with = DON
			has_war_with = RVA
		}
		any_country = {
			OR = {
				tag = RUS
				has_government = communism
				has_government = radical_socialism
			}
			NOT = { 234 = { is_controlled_by = PREV } }
			NOT = { 235 = { is_controlled_by = PREV } }
			NOT = { 218 = { is_controlled_by = PREV } }
			NOT = { 245 = { is_controlled_by = PREV } }
			NOT = { 238 = { is_controlled_by = PREV } }
			NOT = { 265 = { is_controlled_by = PREV } }
			NOT = { 217 = { is_controlled_by = PREV } }
			NOT = { 401 = { is_controlled_by = PREV } }
			NOT = { 251 = { is_controlled_by = PREV } }
			NOT = { 641 = { is_controlled_by = PREV } }
			NOT = { 814 = { is_controlled_by = PREV } }
			NOT = { 200 = { is_controlled_by = PREV } }
		}
		NOT = { has_completed_focus = RUS_prodnalog }
		NOT = { has_completed_focus = RUS_voluntary_agriculture_cooperatives }
		NOT = { has_completed_focus = RUS_organization_of_agricultural_cooperatives }
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	mean_time_to_happen = {
		days = 180
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.1001.a
		add_political_power = -25
		add_stability = -0.05
		add_ideas = foodstuffs_supply_crisis_1
		if = {
			limit = { NOT = { has_government = communism } }
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			else = {
				add_popularity = {
					ideology = radical_socialism
					popularity = 0.05
				}
				add_popularity = {
					ideology = social_democracy
					popularity = 0.025
				}
				add_popularity = {
					ideology = national_syndicalism
					popularity = 0.05
				}
			}
		}
	}
}

# Усугубление продовольсвенной ситуации
country_event = {
	id = rcw.1002
	title = rcw.1002.t
	desc = rcw.1002.d
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		has_idea = RUS_peasant_question
		NOT = { has_global_flag = RUS_civil_war_over }
		OR = {
			has_government = communism
			has_government = radical_socialism
		}
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
			has_idea = RUS_collapse_of_railway_system_5
		}
		OR = {
			AND = {
				OR = {
					AND = {
						has_idea = foodstuffs_supply_crisis_1
						check_variable = { global.bolsheviks_control_of_bread_regions < 0.85 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_2
						check_variable = { global.bolsheviks_control_of_bread_regions < 0.7 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_3
						check_variable = { global.bolsheviks_control_of_bread_regions < 0.55 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_4
						check_variable = { global.bolsheviks_control_of_bread_regions < 0.4 }
					}
				}
				has_completed_focus = RUS_prodrazverstka
			}
			AND = {
				OR = {
					AND = {
						has_idea = foodstuffs_supply_crisis_1
						check_variable = { global.bolsheviks_control_of_bread_regions < 0.95 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_2
						check_variable = { global.bolsheviks_control_of_bread_regions < 0.825 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_3
						check_variable = { global.bolsheviks_control_of_bread_regions < 0.7 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_4
						check_variable = { global.bolsheviks_control_of_bread_regions < 0.575 }
					}
				}
				NOT = { has_completed_focus = RUS_prodrazverstka }
			}
		}
		OR = {
			controls_state = 195
			controls_state = 219
		}
		OR = {
			has_war_with = SIB
			has_war_with = CCA
			has_war_with = RSS
			has_war_with = DON
			has_war_with = RVA
		}
	}
	
	mean_time_to_happen = {
		days = 160
		modifier = {
			factor = 0.1
			NOT = { has_completed_focus = RUS_prodrazverstka }
		}
		modifier = {
			factor = 1.7
			NOT = { controls_state = 195 }
		}
		modifier = {
			factor = 1.7
			NOT = { controls_state = 219 }
		}
		modifier = {
			factor = 1.1
			has_idea = foodstuffs_supply_crisis_2
		}
		modifier = {
			factor = 1.2
			has_idea = foodstuffs_supply_crisis_3
		}
		modifier = {
			factor = 1.3
			has_idea = foodstuffs_supply_crisis_4
		}
	}
	
	hidden = yes
	
	option = {
		name = rcw.1002.a
		add_stability = -0.05
		if = {
			limit = { NOT = { has_government = communism has_government = radical_socialism } }
			add_popularity = {
				ideology = communism
				popularity = 0.0125
			}
			add_popularity = {
				ideology = radical_socialism
				popularity = 0.0125
			}
		}
		else_if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = -0.0125
			}
		}
		else_if = {
			limit = { has_government = radical_socialism }
			add_popularity = {
				ideology = radical_socialism
				popularity = -0.0125
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			remove_ideas = foodstuffs_supply_crisis_4
			add_ideas = foodstuffs_supply_crisis_5
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			remove_ideas = foodstuffs_supply_crisis_3
			add_ideas = foodstuffs_supply_crisis_4
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_2 }
			remove_ideas = foodstuffs_supply_crisis_2
			add_ideas = foodstuffs_supply_crisis_3
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_1 }
			remove_ideas = foodstuffs_supply_crisis_1
			add_ideas = foodstuffs_supply_crisis_2
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = foodstuffs_supply_crisis_1
					has_idea = foodstuffs_supply_crisis_2
					has_idea = foodstuffs_supply_crisis_3
					has_idea = foodstuffs_supply_crisis_4
					has_idea = foodstuffs_supply_crisis_5
				}
			}
			add_ideas = foodstuffs_supply_crisis_1
		}
	}
}

# Облегчение продовольсвенной ситуации
country_event = {
	id = rcw.1003
	title = rcw.1003.t
	desc = rcw.1003.d
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		has_idea = RUS_peasant_question
		OR = {
		has_global_flag = RUS_civil_war_over
		OR = {
			AND = {
				OR = {
					AND = {
						has_idea = foodstuffs_supply_crisis_2
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.85 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_3
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.7 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_4
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.55 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_5
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.4 }
					}
				}
				has_completed_focus = RUS_prodrazverstka
			}
			AND = {
				OR = {
					AND = {
						has_idea = foodstuffs_supply_crisis_2
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.95 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_3
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.825 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_4
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.7 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_5
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.575 }
					}
				}
				NOT = { has_completed_focus = RUS_prodrazverstka }
			}
		}
		}
	}
	
	mean_time_to_happen = {
		days = 160
		modifier = {
			factor = 0.5
			has_completed_focus = RUS_prodrazverstka
		}
	}
	
	hidden = yes
	
	option = {
		name = rcw.1003.a
		add_stability = 0.02
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			remove_ideas = foodstuffs_supply_crisis_5
			add_ideas = foodstuffs_supply_crisis_4
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			remove_ideas = foodstuffs_supply_crisis_4
			add_ideas = foodstuffs_supply_crisis_3
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			remove_ideas = foodstuffs_supply_crisis_3
			add_ideas = foodstuffs_supply_crisis_2
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_2 }
			remove_ideas = foodstuffs_supply_crisis_2
			add_ideas = foodstuffs_supply_crisis_1
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_1 }
			remove_ideas = foodstuffs_supply_crisis_1
		}
	}
}