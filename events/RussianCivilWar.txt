###########################
# Russian Civil War Events
###########################

add_namespace = rcw

#########Неудачное выступление Керенского-Краснова######
country_event = {
	id = rcw.1
	title = rcw.1.t
	desc = rcw.1.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.1.a
		add_political_power = 150
		add_stability = 0.10
		#news_event
	}
}

#########Восстание Каледина######
country_event = {
	id = rcw.2
	title = rcw.2.t
	desc = {
		text = rcw.2.d
		trigger = {
			UKR = { OR = { exists = no has_government = communism has_government = radical_socialism } }
		}
	}
	desc = {
		text = rcw.2.d_ukr
		trigger = {
			UKR = { exists = yes NOT = { has_government = communism has_government = radical_socialism } }
		}
	}
	picture = GFX_report_event_rus_kaledin_uprising
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = RUS_cossacks_were_disbanded }
		NOT = { has_country_flag = RUS_cossacks_bolshevized }
	}
	
	mean_time_to_happen = {
		days = 8
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.2.a
		218 = { add_core_of = DON }
		238 = { add_core_of = DON }
		245 = { add_core_of = DON }
		265 = { add_core_of = DON }
		764 = { add_core_of = DON }
		DON = {
			set_cosmetic_tag = DON_Kaledin
			transfer_state = 218
			transfer_state = 227
			transfer_state = 228
			transfer_state = 238
			transfer_state = 245
			transfer_state = 265
			transfer_state = 764
			add_ideas = alliance_neutrality
		}
	}
	
	option = {
		name = rcw.2.b
		218 = {
			add_core_of = DON
		}
		238 = {
			add_core_of = DON
		}
		245 = {
			add_core_of = DON
		}
		265 = {
			add_core_of = DON
		}
		764 = {
			add_core_of = DON
		}
		DON = {
			set_cosmetic_tag = DON_Kaledin
			transfer_state = 218
			transfer_state = 227
			transfer_state = 228
			transfer_state = 238
			transfer_state = 245
			transfer_state = 265
			transfer_state = 764
			add_ideas = alliance_neutrality
			change_tag_from = RUS
		}
	}
}

#########Итоги местного Учредительного собрания не радуют правительство, и начинаются попытки создания коалиционного правительства против большевиков######
country_event = {
	id = rcw.3
	title = rcw.3.t
	desc = rcw.3.d
	picture = GFX_report_event_rus_coalition
	
	trigger = {
		tag = DON
		RUS = { has_country_flag = RUS_Oktober_revolution_fired }
	}
	
	mean_time_to_happen = {
		days = 12
	}
	
	fire_only_once = yes
	
	immediate = {
		initiate_verification_of_the_popularity_of_coalitions = yes
	}
	
	option = {
		name = rcw.3.a # не идти на компромисы
		add_political_power = 50
		load_oob = DON_kaledin
		ai_chance = {
			factor = 90
		}
		country_event = { id = rcw.4  days = 11 }
	}
	
	option = {
		name = rcw.3.b # согласится на требования умеренных
		initiate_verification_of_the_popularity_of_coalitions = yes
		if = {
			limit = { check_variable = { socialist_parties > 0.5 } }
			RUS = { annex_country = { target = DON transfer_troops = yes } }
		}
		if = {
			limit = { NOT = { check_variable = { socialist_parties > 0.5 } } }
			set_politics = { ruling_party = market_liberalism elections_allowed = no }
			add_popularity = { ideology = market_liberalism popularity = 0.2 }
			add_popularity = { ideology = social_liberalism popularity = 0.1 }
			load_oob = DON_not_kaledin
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

#########Ультиматум Военно-Революционного комитета######
country_event = {
	id = rcw.4
	title = rcw.4.t
	desc = rcw.4.d
	picture = GFX_report_event_sov_military_rev_comitet
	
	is_triggered_only = yes
	
	option = {
		name = rcw.4.a #подавить выступление
		set_capital = 245
		start_civil_war = {
			ideology = communism
			size = 0.3
			states = { 218 227 228 }
		}
		set_country_flag = DON_red_revolt
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = rcw.4.b #принять ультиматум
		RUS = { annex_country = { target = DON transfer_troops = yes } }
		ai_chance = {
			factor = 0
		}
	}
}

#########Победа красных на Дону######
country_event = {
	id = rcw.5
	title = rcw.5.t
	desc = rcw.5.d
	picture = GFX_report_event_sov_redarmy
	
	trigger = {
		RUS = { exists = yes }
		original_tag = DON
		has_civil_war = no
		has_government = communism
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.5.a
		RUS = { annex_country = { target = DON transfer_troops = yes } }
	}
}

#########Победа Каледина на Дону######
country_event = {
	id = rcw.6
	title = rcw.6.t
	desc = rcw.6.d
	picture = GFX_report_event_rus_kazaks_war
	
	trigger = {
		tag = DON
		has_civil_war = no
		has_country_flag = DON_red_revolt
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = rcw.6.a
		clr_country_flag = DON_red_revolt
		country_event = { id = rcw.7 days = 10 }
	}
}

######### ######
country_event = {
	id = rcw.7
	title = rcw.7.t
	desc = rcw.7.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	option = {
		name = rcw.7.a
		233 = { add_core_of = RVA }
		234 = { add_core_of = RVA }
		235 = { add_core_of = RVA }
		238 = { add_core_of = RVA }
		RVA = {
			transfer_state = 238
			load_oob = RVA_alexeev
		}
	}
}

######### ######
country_event = {
	id = rcw.10
	title = rcw.10.t
	desc = rcw.10.d
	picture = GFX_report_event_sov_redarmy
	
	is_triggered_only = yes
	
	option = {
		name = rcw.10.a
		load_oob = RUS_Antonov_Ovseenko
		declare_war_on = {
			target = DON
			type = annex_everything
		}
		if = {
			limit = { RVA = { exists = yes } }
			declare_war_on = {
				target = RVA
				type = annex_everything
			}
		}
		if = {
			limit = { UKR = { exists = yes } }
			UKR = { country_event = ukraine.10 }
		}
	}
}

#########Восстание чехословатского корпуса######
country_event = {
	id = rcw.15
	title = rcw.15.t
	desc = rcw.15.d
	picture = GFX_report_event_sov_redarmy
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_war_with = GER }
		CCA = { exists = no }
		SIB = { exists = no }
	}
	
	mean_time_to_happen = {
		days = 70
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.15.a
		add_political_power = -100
		add_stability = -0.10
		add_country_flag = RUS_czechoslovak_legion_uprising
	}
}

#########Свержение советской власти в Сибири######
country_event = {
	id = rcw.16
	title = rcw.16.t
	desc = rcw.16.d
	picture = GFX_report_event_sov_redarmy
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		OR = {
			has_country_flag = RUS_czechoslovak_legion_uprising
		}
		CCA = { exists = no }
		SIB = { exists = no }
	}
	
	mean_time_to_happen = {
		days = 70
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.16.a
		CCA = {
			transfer_state = 250
			transfer_state = 251
			transfer_state = 406 #Уральские казаки
			transfer_state = 407 #Уральские казаки
			transfer_state = 572
			transfer_state = 573
			transfer_state = 582
			transfer_state = 651
			transfer_state = 652 #Дутов
			load_oob = CCA_1918
			if = {
				RUS = { has_country_flag = RUS_czechoslovak_legion_uprising }
				load_oob = CCA_czechoslovak_legion
			}
		}
		SIB = {
			transfer_state = 40
			transfer_state = 516
			transfer_state = 567
			transfer_state = 568
			transfer_state = 569
			transfer_state = 570
			transfer_state = 571
			transfer_state = 576
			transfer_state = 577
			transfer_state = 578
			transfer_state = 588
			transfer_state = 590
			transfer_state = 654
			load_oob = SIB_1918
		}
		release = TAN
	}
	option = {
		name = rcw.16.b
		CCA = {
			transfer_state = 250
			transfer_state = 251
			transfer_state = 406 #Уральские казаки
			transfer_state = 407 #Уральские казаки
			transfer_state = 572
			transfer_state = 573
			transfer_state = 582
			transfer_state = 651
			transfer_state = 652 #Дутов
			load_oob = CCA_1918
			if = {
				RUS = { has_country_flag = RUS_czechoslovak_legion_uprising }
				load_oob = CCA_czechoslovak_legion
			}
			change_tag_from = RUS
		}
		SIB = {
			transfer_state = 40
			transfer_state = 516
			transfer_state = 567
			transfer_state = 568
			transfer_state = 569
			transfer_state = 570
			transfer_state = 571
			transfer_state = 576
			transfer_state = 577
			transfer_state = 578
			transfer_state = 588
			transfer_state = 590
			transfer_state = 654
			load_oob = SIB_1918
		}
		release = TAN
	}
	option = {
		name = rcw.16.c
		CCA = {
			transfer_state = 250
			transfer_state = 251
			transfer_state = 406 #Уральские казаки
			transfer_state = 407 #Уральские казаки
			transfer_state = 572
			transfer_state = 573
			transfer_state = 582
			transfer_state = 651
			transfer_state = 652 #Дутов
			load_oob = CCA_1918
			if = {
				RUS = { has_country_flag = RUS_czechoslovak_legion_uprising }
				load_oob = CCA_czechoslovak_legion
			}
		}
		SIB = {
			transfer_state = 40
			transfer_state = 516
			transfer_state = 567
			transfer_state = 568
			transfer_state = 569
			transfer_state = 570
			transfer_state = 571
			transfer_state = 576
			transfer_state = 577
			transfer_state = 578
			transfer_state = 588
			transfer_state = 590
			transfer_state = 654
			load_oob = SIB_1918
			change_tag_from = RUS
		}
		release = TAN
	}
}

#########Восстание забайкальских казаков против большевиков######
country_event = {
	id = rcw.20
	title = rcw.20.t
	desc = rcw.20.d
	picture = GFX_report_event_rus_kazaks_war
	
	trigger = {
		tag = RUS
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = RUS_all_russian_constituent_assembly_second_session_land_reform
		}
		NOT = { has_country_flag = RUS_cossacks_were_disbanded }
		NOT = { has_country_flag = RUS_cossacks_bolshevized }
		BKL = { exists = no }
	}
	
	mean_time_to_happen = {
		days = 25
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.20.a
		BKL = {
			transfer_state = 761
			set_state_owner = 798
			set_province_controller = 4677
			set_province_controller = 4719
			set_province_controller = 7725
			set_province_controller = 7786
			set_province_controller = 10559
			set_province_controller = 12622
			set_province_controller = 13206
			set_province_controller = 13207
			set_province_controller = 13208
			load_oob = BKL_cossaks
			add_ideas = alliance_neutrality
		}
		declare_war_on = {
			target = BKL
			type = annex_everything
		}
	}
	option = {
		name = rcw.20.b
		BKL = {
			transfer_state = 761
			set_state_owner = 798
			set_province_controller = 4677
			set_province_controller = 4719
			set_province_controller = 7725
			set_province_controller = 7786
			set_province_controller = 10559
			set_province_controller = 12622
			set_province_controller = 13206
			set_province_controller = 13207
			set_province_controller = 13208
			load_oob = BKL_cossaks
			add_ideas = alliance_neutrality
			change_tag_from = RUS
		}
		declare_war_on = {
			target = BKL
			type = annex_everything
		}
	}
}

#########Восстание матросов Кронштадта######
country_event = {
	id = rcw.80
	title = rcw.80.t
	desc = rcw.80.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		always = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.80.a
		ai_chance = {
			factor = 999
		}
	}
	option = {
		name = rcw.80.b
		ai_chance = {
			factor = 999
		}
	}
}