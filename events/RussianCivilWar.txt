###########################
# Russian Civil War Events
###########################

add_namespace = rcw

###### Антисоветские восстания в России ######

# Выступление Керенского-Краснова
country_event = {
	id = rcw.1
	title = rcw.1.t
	desc = rcw.1.d
	picture = GFX_report_event_rus_revolt_kerensky-krasnov
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = legitimized_bolsheviks }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 0
	}
	
	option = {
		name = rcw.1.a
		hidden_effect = {
			country_event = { id = rcw.2 days = 3 }
		}
	}
}
# Восстание юнкеров в Петрограде
country_event = {
	id = rcw.2
	title = rcw.2.t
	desc = rcw.2.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.2.a
		add_political_power = -40
		add_stability = -0.02
		add_manpower = -500
		hidden_effect = {
			country_event = { id = rcw.3 days = 2 }
		}
	}
	
	option = {
		name = rcw.2.b
		add_political_power = -25
		add_stability = -0.01
		add_manpower = -200
		hidden_effect = {
			random_list = {
				80 = { country_event = { id = rcw.3 days = 2 } }
				20 = { country_event = { id = rcw.4 days = 2 } }
			}
		}
	}
}
# Перемога
country_event = {
	id = rcw.3
	title = rcw.3.t
	desc = rcw.3.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.3.a
		add_political_power = 25
		add_stability = 0.05
		add_manpower = -300
		add_popularity = {
			ideology = communism
			popularity = 0.01
		}
	}
}
# Зрада
country_event = {
	id = rcw.4
	title = rcw.4.t
	desc = rcw.4.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.4.a
		add_political_power = -200
		add_stability = -0.05
		set_country_flag = RUS_Ker_Kras_rev_win_maybe
		add_manpower = -1000
		add_popularity = {
			ideology = communism
			popularity = -0.04
		}
	}
}

# Начало операции Красной Гвардии против реакционных сил на Дону
country_event = {
	id = rcw.10
	title = rcw.10.t
	desc = rcw.10.d
	picture = GFX_report_event_sov_redarmy
	
	is_triggered_only = yes
	
	option = {
		name = rcw.10.a
		add_stability = 0.03
		load_oob = RUS_Antonov_Ovseenko
		if = {
			limit = { DON = { NOT = { has_government = communism has_government = radical_socialism } } }
			declare_war_on = {
				target = DON
				type = annex_everything
			}
		}
		if = {
			limit = { RVA = { exists = yes NOT = { has_government = communism has_government = radical_socialism } } }
			RVA = {
				declare_war_on = {
					target = RUS
					type = annex_everything
				}
			}
		}
		if = {
			limit = { UKR = { exists = yes NOT = { has_government = communism has_government = radical_socialism } } }
			UKR = { country_event = ukraine.10 }
		}
		hidden_effect = {
			every_country = {
				limit = { original_tag = DON }
				add_ideas = alliance_neutrality
			}
		}
	}
}

# Восстание забайкальских казаков
country_event = {
	id = rcw.20
	title = rcw.20.t
	desc = {
		text = rcw.20.d
		trigger = {
			OR = {
				has_government = radical_socialism
				has_government = communism
			}
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom }
		}
	}
	desc = {
		text = rcw.20.d_1
		trigger = {
			NOT = {
				has_government = radical_socialism
				has_government = communism
			}
			NOT = { has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom }
		}
	}
	desc = {
		text = rcw.20.d_2
		trigger = {
			has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom
		}
	}
	picture = GFX_report_event_rus_kazaks_war
	
	trigger = {
		tag = RUS
		BKL = { exists = no }
		NOT = { has_country_flag = BKL_revolt }
		NOT = { has_country_flag = RUS_cossacks_were_disbanded }
		OR = {
			has_country_flag = RUS_Oktober_revolution_fired
			has_country_flag = RUS_all_russian_constituent_assembly_first_session_soviet_republic
			has_country_flag = RUS_all_russian_constituent_assembly_second_session_land_reform
			has_country_flag = RUS_all_russian_constituent_assembly_second_session_serfdom
		}
	}
	
	mean_time_to_happen = {
		days = 35
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			every_unit_leader = { limit = { has_id = 77299 } set_nationality = BKL }
			BKL = {
				transfer_state = 761
				inherit_technology = RUS
				add_ideas = alliance_neutrality
			}
			delete_unit_template_and_units = {
				division_template = "Kazach'ya brigada"
			}
		}
	}
	
	option = {
		name = rcw.20.a
		if = {
			limit = { RUS = { has_country_flag = RUS_Oktober_revolution_fired } }
			RUS = { load_oob = RUS_Chita_red_guard }
		}
		BKL = {
			hidden_effect = { country_event = { id = rcw.21 days = 2 } }
		}
		set_country_flag = BKL_revolt
	}
	option = {
		name = rcw.20.b
		trigger = {
			is_ai = no
			OR = {
				has_government = radical_socialism
				has_government = communism
				has_country_flag = RUS_Oktober_revolution_fired
			}
		}
		RUS = { load_oob = RUS_Chita_red_guard }
		BKL = {
			change_tag_from = RUS
			hidden_effect = { country_event = { id = rcw.21 days = 2 } }
		}
		set_country_flag = BKL_revolt
	}
	option = {
		name = rcw.20.c
		trigger = {
			is_ai = no
			NOT = {
				has_government = radical_socialism
				has_government = communism
				has_country_flag = RUS_Oktober_revolution_fired
			}
		}
		BKL = {
			change_tag_from = RUS
			hidden_effect = { country_event = { id = rcw.21 days = 2 } }
		}
		set_country_flag = BKL_revolt
	}
}
country_event = {
	id = rcw.21
	
	title = rcw.21.t
	desc = rcw.21.d
	
	is_triggered_only = yes
	
	option = {
		name = rcw.21.a
		set_province_controller = 4677
		set_province_controller = 4719
		set_province_controller = 7725
		set_province_controller = 7786
#		set_province_controller = 10559
#		set_province_controller = 12622
#		set_province_controller = 13206
#		set_province_controller = 13207
#		set_province_controller = 13208
		declare_war_on = {
			target = RUS
			type = annex_everything
		}
		load_oob = BKL_cossaks
	}
}

# Общеказахский съезд
country_event = {
	id = rcw.60
	title = rcw.60.t
	desc = rcw.60.d
	picture = GFX_report_event_sov_redarm
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			KAZ = {
				inherit_technology = RUS
				set_cosmetic_tag = KAZ_ALASH
			}
		}
	}
	mean_time_to_happen = {
		days = 38
	}
	
	option = {
		name = rcw.60.a
		add_stability = 0.03
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					any_country = {
						is_subject_of = ROOT
						PREV = { is_owned_by = PREV }
					}
				}
				OR = {
					state = 404
					state = 583
					state = 588
					state = 590
					state = 908
				}
			}
			KAZ = { transfer_state = PREV }
		}
		KAZ = {
			add_ideas = alliance_neutrality
			inherit_technology = RUS
			load_oob = KAZ_1917
		}
		every_state = {
			limit = {
				is_core_of = KAZ
				is_owned_by = KAZ
			}
			remove_core_of = RUS
			remove_core_of = CCA
			remove_core_of = RSS
		}
		set_temp_variable = { temp1 = KAZ.num_controlled_states }
		set_temp_variable = { temp2 = RUS.num_controlled_states }
		
		set_temp_variable = { temp3 = KAZ.party_popularity@social_democracy }
		divide_temp_variable = { temp3 = temp2 }
		multiply_temp_variable = { temp3 = temp1 }
		multiply_temp_variable = { temp3 = -1 }
		add_popularity = { ideology = social_democracy popularity = temp3 }
		
		set_temp_variable = { temp4 = KAZ.party_popularity@social_liberalism }
		divide_temp_variable = { temp4 = temp2 }
		multiply_temp_variable = { temp4 = temp1 }
		multiply_temp_variable = { temp4 = -1 }
		add_popularity = { ideology = social_liberalism popularity = temp4 }
		
		set_temp_variable = { temp5 = KAZ.party_popularity@market_liberalism }
		divide_temp_variable = { temp5 = temp2 }
		multiply_temp_variable = { temp5 = temp1 }
		multiply_temp_variable = { temp5 = -1 }
		add_popularity = { ideology = market_liberalism popularity = temp5 }
		
		set_temp_variable = { temp6 = KAZ.party_popularity@social_conservatism }
		divide_temp_variable = { temp6 = temp2 }
		multiply_temp_variable = { temp6 = temp1 }
		multiply_temp_variable = { temp6 = -1 }
		add_popularity = { ideology = social_conservatism popularity = temp6 }
		
		set_temp_variable = { temp7 = KAZ.party_popularity@authoritarism }
		divide_temp_variable = { temp7 = temp2 }
		multiply_temp_variable = { temp7 = temp1 }
		multiply_temp_variable = { temp7 = -1 }
		add_popularity = { ideology = authoritarism popularity = temp7 }
		
		set_temp_variable = { temp8 = KAZ.party_popularity@despotism }
		divide_temp_variable = { temp8 = temp2 }
		multiply_temp_variable = { temp8 = temp1 }
		multiply_temp_variable = { temp8 = -1 }
		add_popularity = { ideology = despotism popularity = temp8 }
		
		set_temp_variable = { temp9 = KAZ.party_popularity@fascism }
		divide_temp_variable = { temp9 = temp2 }
		multiply_temp_variable = { temp9 = temp1 }
		multiply_temp_variable = { temp9 = -1 }
		add_popularity = { ideology = fascism popularity = temp9 }
		
		set_temp_variable = { temp10 = KAZ.party_popularity@national_syndicalism }
		divide_temp_variable = { temp10 = temp2 }
		multiply_temp_variable = { temp10 = temp1 }
		multiply_temp_variable = { temp10 = -1 }
		add_popularity = { ideology = national_syndicalism popularity = temp10 }
	}
	option = {
		name = rcw.60.b
		trigger = {
			is_ai = no
		}
		add_stability = 0.03
		every_state = {
			limit = {
				OR = {
					is_owned_by = ROOT
					any_country = {
						is_subject_of = ROOT
						PREV = { is_owned_by = PREV }
					}
				}
				OR = {
					state = 404
					state = 583
					state = 588
					state = 590
					state = 908
				}
			}
			KAZ = { transfer_state = PREV }
		}
		KAZ = {
			add_ideas = alliance_neutrality
			inherit_technology = RUS
			load_oob = KAZ_1917
			change_tag_from = RUS
		}
		every_state = {
			limit = {
				is_core_of = KAZ
				is_owned_by = KAZ
			}
			remove_core_of = RUS
			remove_core_of = CCA
			remove_core_of = RSS
		}
		set_temp_variable = { temp1 = KAZ.num_controlled_states }
		set_temp_variable = { temp2 = RUS.num_controlled_states }
		
		set_temp_variable = { temp3 = KAZ.party_popularity@social_democracy }
		divide_temp_variable = { temp3 = temp2 }
		multiply_temp_variable = { temp3 = temp1 }
		multiply_temp_variable = { temp3 = -1 }
		add_popularity = { ideology = social_democracy popularity = temp3 }
		
		set_temp_variable = { temp4 = KAZ.party_popularity@social_liberalism }
		divide_temp_variable = { temp4 = temp2 }
		multiply_temp_variable = { temp4 = temp1 }
		multiply_temp_variable = { temp4 = -1 }
		add_popularity = { ideology = social_liberalism popularity = temp4 }
		
		set_temp_variable = { temp5 = KAZ.party_popularity@market_liberalism }
		divide_temp_variable = { temp5 = temp2 }
		multiply_temp_variable = { temp5 = temp1 }
		multiply_temp_variable = { temp5 = -1 }
		add_popularity = { ideology = market_liberalism popularity = temp5 }
		
		set_temp_variable = { temp6 = KAZ.party_popularity@social_conservatism }
		divide_temp_variable = { temp6 = temp2 }
		multiply_temp_variable = { temp6 = temp1 }
		multiply_temp_variable = { temp6 = -1 }
		add_popularity = { ideology = social_conservatism popularity = temp6 }
		
		set_temp_variable = { temp7 = KAZ.party_popularity@authoritarism }
		divide_temp_variable = { temp7 = temp2 }
		multiply_temp_variable = { temp7 = temp1 }
		multiply_temp_variable = { temp7 = -1 }
		add_popularity = { ideology = authoritarism popularity = temp7 }
		
		set_temp_variable = { temp8 = KAZ.party_popularity@despotism }
		divide_temp_variable = { temp8 = temp2 }
		multiply_temp_variable = { temp8 = temp1 }
		multiply_temp_variable = { temp8 = -1 }
		add_popularity = { ideology = despotism popularity = temp8 }
		
		set_temp_variable = { temp9 = KAZ.party_popularity@fascism }
		divide_temp_variable = { temp9 = temp2 }
		multiply_temp_variable = { temp9 = temp1 }
		multiply_temp_variable = { temp9 = -1 }
		add_popularity = { ideology = fascism popularity = temp9 }
		
		set_temp_variable = { temp10 = KAZ.party_popularity@national_syndicalism }
		divide_temp_variable = { temp10 = temp2 }
		multiply_temp_variable = { temp10 = temp1 }
		multiply_temp_variable = { temp10 = -1 }
		add_popularity = { ideology = national_syndicalism popularity = temp10 }
	}
}

# Корнилов: его смерть при взятии восставшими Петрограда
country_event = {
	id = rcw.92
	title = rcw.92.t
	desc = rcw.92.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	option = {
		name = rcw.92.a
		kill_Lavr_Kornilov = yes
		if = {
			limit = { has_idea = Boris_Savinkov_natsind_1 }
			set_politics = {
				ruling_party = national_syndicalism
			}
			add_popularity = {
				ideology = national_syndicalism
				popularity = 0.05
			}
			else = {
				add_stability = -0.05
				create_country_leader = { name = "Alexander Lukomskiy" desc = RUS_Alexander_Lukomskiy_desc picture = "gfx/leaders/RUS/Alexander_Lukomskiy.dds" expire = "1935.1.1" ideology = despotism_ideology traits = {  } }
			}
		}
	}
}
# (не)Корнилов: образование Северной области в Архангельске
country_event = {
	id = rcw.93
	title = rcw.93.t
	desc = rcw.93.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		has_global_flag = RUS_Kornilov_civil_war
		NOT = { has_global_flag = RUS_civil_war_over }
		NOT = { controls_state = 195 }
		controls_state = 214
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.93.a
		every_state = {
			limit = { is_owned_by = RUS is_controlled_by = RUS OR = { state = 213 state = 964 state = 722 state = 215 state = 913 state = 216 state = 214 } }
			NRR = { transfer_state = PREV }
		}
		every_state = {
			limit = { is_core_of = RUS OR = { state = 213 state = 964 state = 722 state = 215 state = 913 state = 216 state = 214 } }
			add_core_of = NRR
		}
		NRR = {
			add_ideas = alliance_neutrality
			inherit_technology = RUS
			every_country = {
				limit = {
					has_war_with = RUS
					OR = {
						is_in_faction_with = GER
						is_any_former_russian_empire_country = yes
					}
				}
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
			load_oob = NRR_KORNILOV_1918
			create_country_leader = { name = "Nikolay Iudovich Ivanov" desc = RUS_Nicolay_Ivanov_DESC picture = "gfx/leaders/RUS/Nicolay_Ivanov.dds" expire = "1935.1.1" ideology = despotism_ideology traits = { great_war_hero } }
			REB = { every_unit_leader = { limit = { OR = { has_id = 76696 } } set_nationality = NRR } }
		}
	}
	option = {
		name = rcw.93.b
		every_state = {
			limit = { is_owned_by = RUS is_controlled_by = RUS OR = { state = 213 state = 964 state = 722 state = 215 state = 913 state = 216 state = 214 } }
			NRR = { transfer_state = PREV }
		}
		every_state = {
			limit = { is_core_of = RUS OR = { state = 213 state = 964 state = 722 state = 215 state = 913 state = 216 state = 214 } }
			add_core_of = NRR
		}
		NRR = {
			add_ideas = alliance_neutrality
			inherit_technology = RUS
			every_country = {
				limit = {
					has_war_with = RUS
					OR = {
						is_in_faction_with = GER
						is_any_former_russian_empire_country = yes
					}
				}
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
			load_oob = NRR_KORNILOV_1918
			create_country_leader = { name = "Nikolay Iudovich Ivanov" desc = RUS_Nicolay_Ivanov_DESC picture = "gfx/leaders/RUS/Nicolay_Ivanov.dds" expire = "1935.1.1" ideology = despotism_ideology traits = { great_war_hero } }
			REB = { every_unit_leader = { limit = { OR = { has_id = 76696 } } set_nationality = NRR } }
			change_tag_from = RUS
		}
	}
}

# Корнилов: восстание большевиков в Туркестане
country_event = {
	id = rcw.94
	title = rcw.94.t
	desc = rcw.94.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_global_flag = RUS_Kornilov_civil_war
		NOT = { country_exists = TRK }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			TRK = {
				set_politics = {
					ruling_party = communism
					elections_allowed = no
				}
				set_popularities = {
						radical_socialism = 5
						communism = 50
						social_democracy = 0
						social_liberalism = 10
						market_liberalism = 0
						social_conservatism = 15
						authoritarism = 0
						despotism = 15
						fascism = 5
						national_syndicalism = 0
				}
				add_ideas = limited_conscription
				add_ideas = workers_control_law
				add_ideas = great_legislation
				add_ideas = war_economy
				inherit_technology = RUS
			}
		}
	}
	
	option = {
		name = rcw.94.a
		ai_chance = {
			factor = 999
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		every_state = {
			limit = {
				OR = {
					state = 878
					state = 584
					state = 877
					state = 876
					state = 883
					state = 886
					state = 882
					state = 742
					state = 732
					state = 874
					state = 586
					state = 884
					state = 885
					state = 589
					state = 405
				}
			}
			add_core_of = TRK
		}
		TRK = {
			transfer_state = 589
			transfer_state = 885
			transfer_state = 586
			transfer_state = 732
			transfer_state = 874
			transfer_state = 883
			transfer_state = 742
			transfer_state = 882
			transfer_state = 405
			transfer_state = 884
			transfer_state = 886
			transfer_state = 585
			hidden_effect = {
				load_oob = TRK_rise_left
			}
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
		}
		every_state = {
			limit = {
				is_core_of = TRK
				is_owned_by = TRK
			}
			remove_core_of = RUS
			remove_core_of = CCA
			remove_core_of = RSS
		}
	}
	option = {
		name = rcw.94.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		every_state = {
			limit = {
				OR = {
					state = 878
					state = 584
					state = 877
					state = 876
					state = 883
					state = 886
					state = 882
					state = 742
					state = 732
					state = 874
					state = 586
					state = 884
					state = 885
					state = 589
					state = 405
				}
			}
			add_core_of = TRK
		}
		TRK = {
			transfer_state = 589
			transfer_state = 885
			transfer_state = 586
			transfer_state = 732
			transfer_state = 874
			transfer_state = 883
			transfer_state = 742
			transfer_state = 882
			transfer_state = 405
			transfer_state = 884
			transfer_state = 886
			transfer_state = 585
			hidden_effect = {
				load_oob = TRK_rise_left
			}
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			
			change_tag_from = RUS
		}
		every_state = {
			limit = {
				is_core_of = TRK
				is_owned_by = TRK
			}
			remove_core_of = RUS
			remove_core_of = CCA
			remove_core_of = RSS
		}
	}
}
# Корнилов: восстание Казахов
country_event = {
	id = rcw.95
	title = rcw.95.t
	desc = rcw.95.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_global_flag = RUS_Kornilov_civil_war
		country_exists = TRK
		NOT = { country_exists = KAZ }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			KAZ = {
				inherit_technology = RUS
				set_cosmetic_tag = KAZ_ALASH
			}
		}
	}
	
	option = {
		name = rcw.95.a
		ai_chance = {
			factor = 999
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		KAZ = {
			transfer_state = 404
			transfer_state = 908
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
		}
	}
	option = {
		name = rcw.95.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		KAZ = {
			transfer_state = 404
			transfer_state = 908
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			
			change_tag_from = RUS
		}
	}
}
# Корнилов: восстание анархистов в Сибири
country_event = {
	id = rcw.96
	title = rcw.96.t
	desc = rcw.96.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_global_flag = RUS_Kornilov_civil_war
		OR = {
			has_country_flag = RUS_Kornilov_SOV_revolt
			country_exists = CCA
		}
		NOT = { country_exists = SIB }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			SIB = {
				set_cosmetic_tag = SIB_SOV
				set_politics = {
					ruling_party = radical_socialism
					elections_allowed = no
				}
				set_popularities = {
						radical_socialism = 20
						communism = 15
						social_democracy = 5
						social_liberalism = 25
						market_liberalism = 15
						social_conservatism = 0
						authoritarism = 0
						despotism = 15
						fascism = 5
						national_syndicalism = 0
				}
				add_ideas = limited_conscription
				add_ideas = workers_control_law
				add_ideas = great_legislation
				add_ideas = war_economy
				inherit_technology = RUS
			}
		}
	}
	
	option = {
		name = rcw.96.a
		ai_chance = {
			factor = 999
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		SIB = {
			inherit_technology = ROOT
			add_ideas = alliance_neutrality
			transfer_state = 556
			transfer_state = 567
			transfer_state = 568
			transfer_state = 569
			transfer_state = 654
			transfer_state = 909
			transfer_state = 578
			transfer_state = 576
			transfer_state = 577
			transfer_state = 516
			transfer_state = 1043
			
			add_state_core = 40
			add_state_core = 569
			add_state_core = 570
			add_state_core = 578
			add_state_core = 654
			add_state_core = 909
			
			add_state_core = 566
			add_state_core = 575
			add_state_core = 564
			add_state_core = 565
			add_state_core = 644
			add_state_core = 574
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
		}
	}
	option = {
		name = rcw.96.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		SIB = {
			inherit_technology = ROOT
			add_ideas = alliance_neutrality
			transfer_state = 556
			transfer_state = 567
			transfer_state = 568
			transfer_state = 569
			transfer_state = 654
			transfer_state = 909
			transfer_state = 578
			transfer_state = 576
			transfer_state = 577
			transfer_state = 516
			transfer_state = 1043
			
			add_state_core = 40
			add_state_core = 569
			add_state_core = 570
			add_state_core = 578
			add_state_core = 654
			add_state_core = 909
			
			add_state_core = 566
			add_state_core = 575
			add_state_core = 564
			add_state_core = 565
			add_state_core = 644
			add_state_core = 574
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			
			change_tag_from = RUS
		}
	}
}
# Корнилов: восстание большевиков в Приморье
country_event = {
	id = rcw.97
	title = rcw.97.t
	desc = rcw.97.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_global_flag = RUS_Kornilov_civil_war
		has_country_flag = RUS_Kornilov_SOV_revolt
		NOT = { country_exists = PRM }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			PRM = {
				add_popularity = { ideology = communism popularity = 0.35 }
				set_politics = { ruling_party = communism }
			}
		}
	}
	
	option = {
		name = rcw.97.a
		ai_chance = {
			factor = 999
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		PRM = {
			transfer_state = 408
			transfer_state = 560
			transfer_state = 655
			
			add_state_core = 714
			add_state_core = 561
			add_state_core = 560
			add_state_core = 657
			add_state_core = 409
			add_state_core = 408
			add_state_core = 717
			add_state_core = 655
			load_oob = RUS_PRM_red_guard
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
		}
	}
	option = {
		name = rcw.97.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		PRM = {
			transfer_state = 408
			transfer_state = 560
			transfer_state = 655
			
			add_state_core = 714
			add_state_core = 561
			add_state_core = 560
			add_state_core = 657
			add_state_core = 409
			add_state_core = 408
			add_state_core = 717
			add_state_core = 655
			load_oob = RUS_PRM_red_guard
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			
			change_tag_from = RUS
		}
	}
}
# Корнилов: восстание эсеров
country_event = {
	id = rcw.98
	title = rcw.98.t
	desc = rcw.98.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_global_flag = RUS_Kornilov_civil_war
		has_country_flag = RUS_Kornilov_esers_will_rise
		has_country_flag = RUS_Kornilov_SOV_revolt
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			CCA = { set_cosmetic_tag = CCA_russian_federation }
		}
	}
	
	option = {
		name = rcw.98.a
		ai_chance = {
			factor = 999
		}
		clr_country_flag = RUS_Kornilov_esers_will_rise
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		every_unit_leader = { limit = { OR = { has_id = 88147 has_id = 88147 } } set_nationality = CCA }
		CCA = {
			set_country_flag = Chernov_was_on_CoMotCA_terr
			create_country_leader = {
				name = "Victor Chernov"
				desc = CCA_Victor_Chernov_DESC
				picture = "gfx/leaders/RUS/Victor_Chernov_ALT.dds"
				expire = "1935.1.1" ideology = social_liberalism_ideology
				traits = {  }
			}
			add_state_core = 401
			add_state_core = 239
			add_state_core = 257
			add_state_core = 255
			add_state_core = 250
			add_state_core = 251
			add_state_core = 252
			add_state_core = 256
			add_state_core = 249
			add_state_core = 651
			add_state_core = 398
			add_state_core = 399
			add_state_core = 400
			add_state_core = 581
			add_state_core = 911
			add_state_core = 397
			add_state_core = 262
			
			transfer_state = 401
			transfer_state = 239
			transfer_state = 257
			transfer_state = 255
			transfer_state = 250
			transfer_state = 251
			transfer_state = 252
			transfer_state = 256
			transfer_state = 249
			transfer_state = 651
			transfer_state = 398
			transfer_state = 399
			transfer_state = 400
			transfer_state = 581
			transfer_state = 911
			transfer_state = 397
			transfer_state = 262
			
			load_focus_tree = Russian_Federation_focus
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
			
			load_oob = CCA_Kornilov_CW
		}
	}
	option = {
		name = rcw.98.b
		ai_chance = {
			factor = 0
		}
		clr_country_flag = RUS_Kornilov_esers_will_rise
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		every_unit_leader = { limit = { OR = { has_id = 88147 has_id = 88147 } } set_nationality = CCA }
		CCA = {
			set_country_flag = Chernov_was_on_CoMotCA_terr
			create_country_leader = {
				name = "Victor Chernov"
				desc = CCA_Victor_Chernov_DESC
				picture = "gfx/leaders/RUS/Victor_Chernov_ALT.dds"
				expire = "1935.1.1" ideology = social_liberalism_ideology
				traits = {  }
			}
			add_state_core = 401
			add_state_core = 239
			add_state_core = 257
			add_state_core = 255
			add_state_core = 250
			add_state_core = 251
			add_state_core = 252
			add_state_core = 256
			add_state_core = 249
			add_state_core = 651
			add_state_core = 398
			add_state_core = 399
			add_state_core = 400
			add_state_core = 581
			add_state_core = 911
			add_state_core = 397
			add_state_core = 262
			
			transfer_state = 401
			transfer_state = 239
			transfer_state = 257
			transfer_state = 255
			transfer_state = 250
			transfer_state = 251
			transfer_state = 252
			transfer_state = 256
			transfer_state = 249
			transfer_state = 651
			transfer_state = 398
			transfer_state = 399
			transfer_state = 400
			transfer_state = 581
			transfer_state = 911
			transfer_state = 397
			transfer_state = 262
			
			load_focus_tree = Russian_Federation_focus
			
			load_oob = CCA_Kornilov_CW
			
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
			
			change_tag_from = RUS
		}
	}
}
# Корнилов: восстание эсеров в Закаспии
country_event = {
	id = rcw.99
	title = rcw.99.t
	desc = rcw.99.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_global_flag = RUS_Kornilov_civil_war
		country_exists = CCA
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.99.a
		ai_chance = {
			factor = 999
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		584 = { add_core_of = CPG }
		878 = { add_core_of = CPG }
		877 = { add_core_of = CPG }
		876 = { add_core_of = CPG }
		879 = { add_core_of = CPG }
		881 = { add_core_of = CPG }
		880 = { add_core_of = CPG }
		CPG = {
			transfer_state = 584
			transfer_state = 878
			transfer_state = 876
			transfer_state = 877
			set_state_controller = 584
			set_state_controller = 878
			set_state_controller = 876
			set_state_controller = 877
			
			inherit_technology = RUS
			add_ideas = {
				alliance_neutrality
			}
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			load_oob = CPG_rise
		}
	}
	option = {
		name = rcw.99.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		584 = { add_core_of = CPG }
		878 = { add_core_of = CPG }
		877 = { add_core_of = CPG }
		876 = { add_core_of = CPG }
		879 = { add_core_of = CPG }
		881 = { add_core_of = CPG }
		880 = { add_core_of = CPG }
		CPG = {
			transfer_state = 584
			transfer_state = 878
			transfer_state = 876
			transfer_state = 877
			set_state_controller = 584
			set_state_controller = 878
			set_state_controller = 876
			set_state_controller = 877
			
			inherit_technology = RUS
			add_ideas = {
				alliance_neutrality
			}
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			load_oob = CPG_rise
			change_tag_from = RUS
		}
	}
}
# Корнилов: восстание большевиков
country_event = {
	id = rcw.100
	title = rcw.100.t
	desc = rcw.100.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		has_global_flag = RUS_Kornilov_civil_war
		NOT = { has_country_flag = RUS_Kornilov_SOV_revolt }
	}
	
	mean_time_to_happen = {
		days = 20
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = { create_country_leader = { name = "Yakov Sverdlov" desc = SOV_Yakov_Sverdlov_DESC picture = "gfx/leaders/SOV/Yakov_Sverdlov.dds" expire = "1935.1.1" ideology = leninism traits = {  } } }
	}
	
	option = {
		name = rcw.100.a
		ai_chance = {
			factor = 999
		}
		set_country_flag = RUS_Kornilov_SOV_revolt
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		start_civil_war = {
			ideology = communism
			size = 0.3
			only_own_territory = yes
			capital = 219
			states = {
				219 253 254 258 260 240 220 960 222 223 205 247 248
			}
		}
		every_country = {
			limit = { original_tag = RUS NOT = { tag = RUS } has_government = communism }
			set_cosmetic_tag = RUS_SOV
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
		}
			if = {
				limit = { has_idea = RUS_collapse_of_railway_system_3 }
				swap_ideas = {
					remove_idea = RUS_collapse_of_railway_system_3
					add_idea = RUS_collapse_of_railway_system_4
				}
			}
			if = {
				limit = { has_idea = RUS_collapse_of_railway_system_2 }
				swap_ideas = {
					remove_idea = RUS_collapse_of_railway_system_2
					add_idea = RUS_collapse_of_railway_system_3
				}
			}
			if = {
				limit = { has_idea = RUS_collapse_of_railway_system_1 }
				swap_ideas = {
					remove_idea = RUS_collapse_of_railway_system_1
					add_idea = RUS_collapse_of_railway_system_2
				}
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
		#hidden_effect = {
		#	if = {
		#		limit = {
		#			NOT = { has_global_flag = RUS_civil_war_over }
		#			has_global_flag = RUS_Kornilov_civil_war
		#			has_country_flag = RUS_Kornilov_esers_will_rise
		#			has_country_flag = RUS_Kornilov_SOV_revolt
		#		}
		#		country_event = { id = rcw.98 days = 1 }
		#	}
		#}
	}
	option = {
		name = rcw.100.b
		ai_chance = {
			factor = 0
		}
		set_country_flag = RUS_Kornilov_SOV_revolt
		if = {
			limit = { is_faction_leader = no OR = { is_in_faction_with = ENG is_in_faction_with = FRA } }
			leave_faction = yes
			add_ideas = alliance_neutrality
		}
		start_civil_war = {
			ideology = communism
			size = 0.3
			only_own_territory = yes
			capital = 219
			states = {
				219 253 254 258 260 240 220 960 222 223 205 247 248
			}
		}
		every_country = {
			limit = { original_tag = RUS NOT = { tag = RUS } has_government = communism }
			set_cosmetic_tag = RUS_SOV
			if = {
				limit = { RUS = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
			change_tag_from = RUS
		}
			if = {
				limit = { has_idea = RUS_collapse_of_railway_system_3 }
				swap_ideas = {
					remove_idea = RUS_collapse_of_railway_system_3
					add_idea = RUS_collapse_of_railway_system_4
				}
			}
			if = {
				limit = { has_idea = RUS_collapse_of_railway_system_2 }
				swap_ideas = {
					remove_idea = RUS_collapse_of_railway_system_2
					add_idea = RUS_collapse_of_railway_system_3
				}
			}
			if = {
				limit = { has_idea = RUS_collapse_of_railway_system_1 }
				swap_ideas = {
					remove_idea = RUS_collapse_of_railway_system_1
					add_idea = RUS_collapse_of_railway_system_2
				}
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
		#hidden_effect = {
		#	if = {
		#		limit = {
		#			NOT = { has_global_flag = RUS_civil_war_over }
		#			has_global_flag = RUS_Kornilov_civil_war
		#			has_country_flag = RUS_Kornilov_esers_will_rise
		#			has_country_flag = RUS_Kornilov_SOV_revolt
		#		}
		#		country_event = { id = rcw.98 days = 1 }
		#	}
		#}
	}
}

###### Эвенты большевиков ######

# Декрет «К открытию Учредительного собрания»
country_event = {
	id = rcw.101
	title = rcw.101.t
	desc = rcw.101.d
	picture = GFX_report_event_all_power_to_the_soviets
	
	is_triggered_only = yes
	
	# Немедленный созыв учредительного собрания
	option = {
		name = rcw.101.a 
		country_event = { id = all_rus_CA.1 days = 60 }
	}
}

# II Всероссийский съезд Советов
country_event = {
	id = rcw.102
	title = rcw.102.t
	picture = GFX_report_event_sov_2nd_congress_of_soviets_of_russia
	
	desc = {
		text = rcw.102.d
		trigger = { has_country_flag = RUS_Oktober_revolution_fired }
	}
	desc = {
		text = rcw.102.d_1
		trigger = { NOT = { has_country_flag = RUS_Oktober_revolution_fired } }
	}
	
	trigger = {
		NOT = { has_country_flag = RUS_second_allrussian_congress_of_soviets }
	}
	
	is_triggered_only = yes
	
	immediate = {
		add_to_variable = { var = global.num_of_allrussian_congress_of_soviets value = 1 }
	}
	
	# Победа большевиков
	option = {
		name = rcw.102.a
		trigger = { has_country_flag = RUS_Oktober_revolution_fired }
		set_country_flag = RUS_second_allrussian_congress_of_soviets
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.15
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.05
		}
		add_popularity = {
			ideology = market_liberalism
			popularity = 0.05
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		hidden_effect = {
			country_event = { id = rcw.103 days = 3 }
		}
	}
	
	# Провал восстания большевиков
	option = {
		name = rcw.102.b
		trigger = { NOT = { has_country_flag = RUS_Oktober_revolution_fired } }
		set_country_flag = RUS_second_allrussian_congress_of_soviets
		set_country_flag = RUS_Bolsheviks_majority
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.15
		}
	}
}

# Протест умеренных социалистических партий
country_event = {
	id = rcw.103
	title = rcw.103.t
	desc = rcw.103.d
	picture = GFX_report_event_sov_protest_of_moderate_socialists_against_the_bolsheviksv
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.103.a
		hidden_effect = {
			country_event = { id = rcw.104 hours = 12 }
		}
	}
}

# Переговоры о коалиционном правительстве
country_event = {
	id = rcw.104
	title = rcw.104.t
	desc = rcw.104.d
	picture = GFX_report_event_sov_protest_bolsheviks_and_ms_coalition_treatry
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	# Провал переговоров
	option = {
		name = rcw.104.a
		hidden_effect = { country_event = { id = rcw.105 hours = 72 } }
	}
	
	# Удаётся организовать однородное социалистическое правительство
	option = {
		trigger = {
			check_variable = { percent_right_faction_CC > 0.33 }
		}
		name = rcw.104.b
		hidden_effect = { country_event = { id = rcw.106 hours = 72 } }
	}
}

# Формирование коалиции с левыми эсерами
country_event = {
	id = rcw.105
	title = rcw.105.t
	desc = rcw.105.d
	picture = GFX_report_event_sov_left_socialist-revolutionary_insurrection
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.105.a
		add_popularity = {
			ideology = radical_socialism
			popularity = 0.05
		}
		clr_country_flag = political_radical_socialists_not_in_socialist_coalition
		clr_country_flag = political_communists_not_in_socialist_coalition
	}
}

# Формирование однородного социалистического правительства
country_event = {
	id = rcw.106
	title = rcw.106.t
	desc = rcw.106.d
	picture = GFX_report_event_sov_homogeneous_socialist_government
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.106.a
		homogeneous_socialist_government_bolsheviks = yes
	}
}

# III Всероссийский съезд Советов
country_event = {
	id = rcw.107
	title = rcw.107.t
	desc = {
		text = rcw.107.d
		trigger = { has_country_flag = RUS_karaul_ustal }
	}
	desc = {
		text = rcw.107.d_1
		trigger = { NOT = { has_country_flag = RUS_karaul_ustal } }
	}
	picture = GFX_report_event_sov_3rd-5th_congress_of_soviets_of_russia_and_other
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		add_to_variable = { var = global.num_of_allrussian_congress_of_soviets value = 1 }
	}
	
	# В случае разгона
	option = {
		name = rcw.107.a
		trigger = { has_country_flag = RUS_karaul_ustal }
		set_country_flag = RUS_third_allrussian_congress_of_soviets
		add_political_power = 50
		add_stability = 0.05
		add_popularity = {
			ideology = social_democracy
			popularity = -0.05
		}
		add_popularity = {
			ideology = social_liberalism
			popularity = -0.05
		}
	}
	# В случае легитимизации большевиков на учредительном
	option = {
		name = rcw.107.b
		trigger = { NOT = { has_country_flag = RUS_karaul_ustal } }
		set_country_flag = RUS_third_allrussian_congress_of_soviets
	}
}

# IV Всероссийский съезд Советов
country_event = {
	id = rcw.108
	title = rcw.108.t
	desc = rcw.108.d
	picture = GFX_report_event_sov_3rd-5th_congress_of_soviets_of_russia_and_other
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		set_capital = 219
		add_to_variable = { var = global.num_of_allrussian_congress_of_soviets value = 1 }
	}
	
	# Мир с Германией
	option = {
		trigger = { has_country_flag = brest_hard }
		name = rcw.108.a
		GER = { country_event = treaty_of_brest.31 }
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
		clr_country_flag = Lenin_threatens_his_resignation
	}
	# Мир с Германией
	option = {
		trigger = { has_country_flag = brest_average check_variable = { percent_left_faction_CC < 0.5 } }
		name = rcw.108.b
		GER = { country_event = treaty_of_brest.32 }
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
		clr_country_flag = Lenin_threatens_his_resignation
	}
	# Мир с Германией
	option = {
		trigger = { has_country_flag = brest_soft check_variable = { percent_left_faction_CC < 0.5 } }
		name = rcw.108.c
		GER = { country_event = treaty_of_brest.33 }
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
		clr_country_flag = Lenin_threatens_his_resignation
	}
	# Мир с Германией
	option = {
		trigger = { has_country_flag = brest_hardest }
		name = rcw.108.e
		GER = { country_event = treaty_of_brest.31 }#GER = { country_event = treaty_of_brest.34 }
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
		clr_country_flag = Lenin_threatens_his_resignation
	}
	# Продолжение войны
	option = {
		trigger = { OR = { NOT = { has_country_flag = brest_hard has_country_flag = brest_average has_country_flag = brest_hardest } NOT = { check_variable = { percent_left_faction_CC < 0.5 } } } }
		name = rcw.108.f
		add_to_variable = {
			var = global.red_alert
			value = 5
		}
		set_country_flag = RUS_fourth_allrussian_congress_of_soviets
		ai_chance = {
			factor = 1
		}
		if = {
			limit = { has_country_flag = Lenin_threatens_his_resignation OR = { has_country_flag = brest_soft has_country_flag = brest_hard has_country_flag = brest_average has_country_flag = brest_hardest } }
			country_event = { id = treaty_of_brest.51 days = 3 }
		}
	}
}

# Декрет «О земле»
country_event = {
	id = rcw.109
	title = rcw.109.t
	desc = rcw.109.d
	picture = GFX_report_event_rus_revolt_kerensky-krasnov
	
	is_triggered_only = yes
	
	option = {
		name = rcw.109.a
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		if = {
			limit = { has_idea = RUS_peasant_question }
			swap_ideas = {
				remove_idea = RUS_peasant_question
				add_idea = RUS_peasant_question_0_5
			}
			else = { add_war_support = 0.05 }
		}
		add_ideas = common_agriculture_property
	}
}
# Декрет «Об отмене смертной казни на фронте»
country_event = {
	id = rcw.110
	title = rcw.110.t
	desc = rcw.110.d
	picture = GFX_report_event_rus_revolt_kerensky-krasnov
	
	is_triggered_only = yes
	
	option = {
		name = rcw.110.a
		add_popularity = {
			ideology = communism
			popularity = 0.02
		}
		add_war_support = 0.025
		set_country_flag = death_penalty_moratorium
	}
}

# Декрет «О постепенном сокращении численности армии»
country_event = {
	id = rcw.111
	title = rcw.111.t
	desc = rcw.111.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
			delete_unit_template_and_units = {
				division_template = "Gvardeyskaya Pekhotnaya Diviziya"
			}
			set_country_flag = RUS_opening_demobilisation
		}
	}
	
	option = {
		name = rcw.111.a
		add_popularity = {
			ideology = communism
			popularity = 0.02
		}
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1899 goda"
			}
		}
		set_equipment_fraction = 0.9
		hidden_effect = { country_event = { id = rcw.112 days = 6 random = 8 } }
	}
}
# Демобилизация призыва 1900-го года
country_event = {
	id = rcw.112
	title = rcw.112.t
	desc = rcw.112.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_opening_demobilisation
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
		}
	}
	
	option = {
		name = rcw.112.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1900 goda"
			}
		}
		set_equipment_fraction = 0.8
		hidden_effect = { country_event = { id = rcw.113 days = 12 random = 7 } }
	}
}
# Демобилизация призыва 1901-го года
country_event = {
	id = rcw.113
	title = rcw.113.t
	desc = rcw.113.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_opening_demobilisation
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
		}
	}
	
	option = {
		name = rcw.113.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1901 goda"
			}
		}
		clr_country_flag = RUS_opening_demobilisation
		set_equipment_fraction = 0.8
	}
}

# Всероссийское совещание по продовольствию, снабжению и демобилизации армии
country_event = {
	id = rcw.114
	title = rcw.114.t
	desc = rcw.114.d
	picture = GFX_report_event_sov_comitet
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
			has_idea = RUS_collapse_of_railway_system_5
		}
		OR = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 20
	}
	
	option = {
		name = rcw.114.a
		add_political_power = 10
		set_country_flag = central_committee_on_army_supply_and_food
	}
}

# Общеармейский съезд по демобилизации армии
country_event = {
	id = rcw.115
	title = rcw.115.t
	desc = {
		text = rcw.115.d
		trigger = {
			has_completed_focus = RUS_red_separate_peace
		}
	}
	desc = {
		text = rcw.115.d_1
		trigger = {
			NOT = { has_completed_focus = RUS_red_separate_peace }
		}
	}
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	#Начать демобилизацию
	option = {
		ai_chance = {
			factor = 1
		}
		name = rcw.115.a
		add_political_power = 10
		hidden_effect = {
			country_event = { id = rcw.116 days = 3 }
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
	
	#В полной демобилизации нет нужды
	option = {
		name = rcw.115.b
		trigger = { is_ai = no }
		ai_chance = {
			factor = 0
		}
		add_political_power = 10
		hidden_effect = {
			if = {
				limit = {
					OR = {
						has_idea = foodstuffs_supply_crisis_1
						has_idea = foodstuffs_supply_crisis_2
						has_idea = foodstuffs_supply_crisis_3
						has_idea = foodstuffs_supply_crisis_4
						has_idea = foodstuffs_supply_crisis_5
					}
				}
				country_event = { id = rcw.118 days = 7 }
				else = {
					country_event = { id = rcw.116 days = 3 }
				}
			}
		}
	}
}
# Проблема оружия
country_event = {
	id = rcw.116
	title = rcw.116.t
	desc = rcw.116.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 0
		}
		name = rcw.116.a
		add_political_power = 10
		add_popularity = {
			ideology = communism
			popularity = -0.025
		}
		set_equipment_fraction = 0.8
		country_event = { id = rcw.117 days = 4 }
	}
	option = {
		name = rcw.116.b
		add_political_power = -10
		add_popularity = {
			ideology = communism
			popularity = 0.02
		}
		set_country_flag = RUS_demob_steal_arms
		country_event = { id = rcw.117 days = 4 }
	}
}
country_event = {
	id = rcw.117
	title = rcw.117.t
	desc = {
		text = rcw.117.d
		trigger = {
			has_completed_focus = RUS_red_separate_peace
		}
	}
	desc = {
		text = rcw.117.d_1
		trigger = {
			NOT = { has_completed_focus = RUS_red_separate_peace }
		}
	}
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.117.a
		add_political_power = 10
		country_event = { id = rcw.121 days = 4 }
		country_event = { id = rcw.122 days = 8 }
		country_event = { id = rcw.123 days = 15 }
		country_event = { id = rcw.124 days = 29 }
		country_event = { id = rcw.125 days = 48 }
		add_popularity = {
			ideology = communism
			popularity = 0.02
		}
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
		set_country_flag = RUS_full_demobilisation
	}
}
country_event = {
	id = rcw.118
	title = rcw.118.t
	desc = rcw.118.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
	}
	
	option = {
		name = rcw.118.a
		add_political_power = -50
		add_war_support = -0.05
		add_popularity = {
			ideology = communism
			popularity = -0.07
		}
		country_event = { id = rcw.121 days = 4 }
		country_event = { id = rcw.122 days = 8 }
		country_event = { id = rcw.123 days = 15 }
		country_event = { id = rcw.124 days = 29 }
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1902 goda"
			}
		}
		remove_ideas = {
			RUS_Order_N_1_1
			RUS_Order_N_1_2
			RUS_Order_N_1_3
		}
		add_ideas = RUS_Order_N_1_4
		add_ideas = mutiny_1
		country_event = stability.23
		set_country_flag = RUS_full_demobilisation
	}
}

# Демобилизация призыва 1903-го года
country_event = {
	id = rcw.121
	title = rcw.121.t
	desc = rcw.121.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
		}
	}
	
	option = {
		name = rcw.121.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1903 goda"
			}
		}
		set_equipment_fraction = 0.8
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.7
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
}
# Демобилизация призыва 1904-1907 годов
country_event = {
	id = rcw.122
	title = rcw.122.t
	desc = rcw.122.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1904-1907 godov"
			}
		}
	}
	
	option = {
		name = rcw.122.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1904-1907 godov"
			}
		}
		set_equipment_fraction = 0.8
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.7
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
}
# Демобилизация призыва 1908-1909 годов
country_event = {
	id = rcw.123
	title = rcw.123.t
	desc = rcw.123.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1908-1909 godov"
			}
		}
	}
	
	option = {
		name = rcw.123.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1908-1909 godov"
			}
		}
		set_equipment_fraction = 0.8
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.7
		}
		RUS_Order_N_1_fall = yes
	}
}
# Демобилизация призыва 1910-1912 годов
country_event = {
	id = rcw.124
	title = rcw.124.t
	desc = rcw.124.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1910-1912 godov"
			}
			delete_unit_template_and_units = {
				division_template = "Kavaleriyskaya Diviziya"
			}
		}
	}
	
	option = {
		name = rcw.124.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1910-1912 godov"
			}
		}
		if = {
			limit = { has_idea = RUS_collapse_of_railway_system_4 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_4
				add_idea = RUS_collapse_of_railway_system_3
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_3
				add_idea = foodstuffs_supply_crisis_2
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_4
				add_idea = foodstuffs_supply_crisis_3
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_5
				add_idea = foodstuffs_supply_crisis_4
			}
		}
		set_equipment_fraction = 0.8
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.7
		}
		if = {
			limit = { has_idea = limited_conscription }
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = volunteer_only
			}
		}
		if = {
			limit = { has_idea = extensive_conscription }
			swap_ideas = {
				remove_idea = extensive_conscription
				add_idea = limited_conscription
			}
		}
		if = {
			limit = { has_idea = service_by_requirement }
			swap_ideas = {
				remove_idea = service_by_requirement
				add_idea = extensive_conscription
			}
		}
		if = {
			limit = { has_idea = all_adults_serve }
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = service_by_requirement
			}
		}
		if = {
			limit = { has_idea = scraping_the_barrel }
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = all_adults_serve
			}
		}
	}
}
# Демобилизация призыва 1913-1915 годов
country_event = {
	id = rcw.125
	title = rcw.125.t
	desc = rcw.125.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1913-1915 godov"
			}
		}
	}
	
	option = {
		name = rcw.125.a
		effect_tooltip = {
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya priziva 1913-1915 godov"
			}
		}
		if = {
			limit = { has_idea = RUS_collapse_of_railway_system_4 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_4
				add_idea = RUS_collapse_of_railway_system_3
			}
		}
		if = {
			limit = { has_idea = RUS_collapse_of_railway_system_5 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_5
				add_idea = RUS_collapse_of_railway_system_4
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_4
				add_idea = foodstuffs_supply_crisis_3
			}
		}
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			swap_ideas = {
				remove_idea = foodstuffs_supply_crisis_5
				add_idea = foodstuffs_supply_crisis_4
			}
		}
		set_equipment_fraction = 0.9
		if = {
			limit = { has_country_flag = RUS_demob_steal_arms }
			set_equipment_fraction = 0.8
		}
		RUS_Order_N_1_fall = yes
	}
}

# Формирование завес
country_event = {
	id = rcw.127
	title = rcw.127.t
	desc = rcw.127.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_completed_focus = RUS_WPRA
		OR = {
			has_country_flag = RUS_fourth_allrussian_congress_of_soviets
			has_completed_focus = RUS_vsevobuch
		}
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.126.a
		add_war_support = 0.025
		if = {
			limit = { NOT = { has_war_with = GER } }
			load_oob = "RUS_zavesa"
			else = {
				load_oob = "RUS_zavesa_r"
			}
		}
	}
}

# Смерть лидера (Ленина)
country_event = {
	id = rcw.131
	title = rcw.131.t
	desc = rcw.131.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw.131.a
		kill_country_leader = yes
		add_political_power = -50
		add_stability = -0.05
		add_war_support = -0.05
	}
}

# Ранение лидера (Ленина)
country_event = {
	id = rcw.132
	title = rcw.132.t
	desc = rcw.132.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw.132.a
		add_political_power = -50
		add_war_support = 0.05
		hidden_effect = {
			if = {
				limit = {
					has_country_leader = { name = "Vladimir Lenin" ruling_only = yes }
				}
				set_country_flag = Vladimir_Lenin_hurt
			}
		}
	}
}

# Покушение на лидера (Ленина)
country_event = {
	id = rcw.133
	title = rcw.133.t
	desc = rcw.133.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw.133.a
		add_war_support = 0.05
	}
}

# Убийство Моисея Урицкого
country_event = {
	id = rcw.134
	title = rcw.134.t
	desc = rcw.134.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	option = {
		name = rcw.134.a
		set_country_flag = Moisey_Uritskiy_dead
	}
}

# Проблемы с жд
country_event = {
	id = rcw.151
	title = rcw.151.t
	desc = rcw.151.d
	picture = GFX_report_event_sov_demobilisation
	
	trigger = {
		tag = RUS
		has_war = yes
		NOT = { has_global_flag = RUS_civil_war_over }
		surrender_progress > 0.1
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
		}
	}
	
	mean_time_to_happen = {
		days = 300
		modifier = {
			factor = 0.8
			has_country_flag = railway_self_government
		}
		modifier = {
			factor = 0.8
			has_country_flag = railway_militia
		}
	}
	
	option = {
		name = rcw.151.a
		if = {
			limit = { has_idea = RUS_collapse_of_railway_system_1 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_1
				add_idea = RUS_collapse_of_railway_system_2
			}
		}
		else_if = {
			limit = { has_idea = RUS_collapse_of_railway_system_2 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_2
				add_idea = RUS_collapse_of_railway_system_3
			}
		}
		else_if = {
			limit = { has_idea = RUS_collapse_of_railway_system_3 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_3
				add_idea = RUS_collapse_of_railway_system_4
			}
		}
		else_if = {
			limit = { has_idea = RUS_collapse_of_railway_system_4 }
			swap_ideas = {
				remove_idea = RUS_collapse_of_railway_system_4
				add_idea = RUS_collapse_of_railway_system_5
			}
		}
	}
}

# Разгром Чёрной гвардии
country_event = {
	id = rcw.198
	title = rcw.198.t
	desc = rcw.198.d
	picture = report_event_sov_felix_VCHK
	
	trigger = {
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		NOT = { has_country_flag = defeat_of_black_guard }
	}
	
	is_triggered_only = yes
	
	option = {
		name = rcw.198.a
		set_country_flag = defeat_of_black_guard
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.15
		}
	}
}

# Уход в отставку министров от Левых Эсеров
country_event = {
	id = rcw.199
	title = rcw.199.t
	desc = rcw.199.d
	picture = GFX_report_event_sov_protest_of_moderate_socialists_against_the_bolsheviksv
	
	trigger = {
		always = no
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_brest_peace_fired
		has_government = communism
		NOT = { has_country_flag = RUS_left_SR_revolt }
		NOT = { has_war_with = GER }
		NOT = { has_completed_focus = RUS_left_eser_focus }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.199.a
		add_political_power = -25
		remove_ideas_with_trait = radical_socialist_counselor
		if = {
			limit = { has_country_flag = RUS_soviet_power_flag }
			add_to_variable = { var = RUS_soviet_power_control value = -1 }
			add_to_variable = { var = RUS_party_power_control value = 1 }
		}
		#country_event = { id = rcw.104 days = 90 }
	}
}
# Восстание Левых Эсеров
country_event = {
	id = rcw.200
	title = rcw.200.t
	desc = rcw.200.d
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		always = no
		tag = RUS
		has_country_flag = RUS_Oktober_revolution_fired
		has_country_flag = RUS_brest_peace_fired
		OR = {
			has_country_flag = brest_hardest
			has_country_flag = brest_hard
			has_country_flag = brest_average
		}
		has_government = communism
		NOT = { has_country_flag = RUS_left_SR_revolt }
		radical_socialism > 0.05
		NOT = { has_global_flag = WWI_GER_HAS_CAPITULATED }
		NOT = { has_country_flag = political_radical_socialists_not_in_socialist_coalition }
	}
	
	is_triggered_only = yes
	
	#
	option = {
		name = rcw.200.a
		set_country_flag = RUS_left_SR_revolt
		add_stability = -0.05
		add_political_power = 50
		remove_ideas_with_trait = radical_socialist_counselor
		if = {
			limit = { has_country_flag = RUS_soviet_power_flag }
			add_to_variable = { var = RUS_soviet_power_control value = -1 }
			add_to_variable = { var = RUS_party_power_control value = 1 }
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.15
		}
		clr_country_flag = political_radical_socialists_not_in_socialist_coalition
		ai_chance = {
			factor = 80
		}
	}
	#
	option = {
		name = rcw.200.b
		set_country_flag = RUS_left_SR_revolt
		add_stability = -0.05
		add_political_power = 50
		remove_ideas_with_trait = radical_socialist_counselor
		if = {
			limit = { has_country_flag = RUS_soviet_power_flag }
			add_to_variable = { var = RUS_soviet_power_control value = -1 }
			add_to_variable = { var = RUS_party_power_control value = 1 }
		}
		add_popularity = {
			ideology = radical_socialism
			popularity = -0.15
		}
		clr_country_flag = political_radical_socialists_not_in_socialist_coalition
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

###### Эвенты взаиводействия белых и Антанты ######

# Вылетает большевикам, когда Британия высаживается в Мурманске
country_event = {
	id = rcw.201
	title = rcw.201.t
	desc = rcw.201.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.201.a
		add_political_power = 50
		add_war_support = 0.025
	}
}

# Вылетает большевикам, незадолго до десанта в Архангельске
country_event = {
	id = rcw.202
	title = rcw.202.t
	desc = rcw.202.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.202.a
	}
}

# Вылетает большевикам, после десанта в Архангельске
country_event = {
	id = rcw.203
	title = rcw.203.t
	desc = rcw.203.d
	picture = GFX_report_event_sov_demobilisation
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = rcw.203.a
		add_political_power = 50
		add_war_support = 0.025
		load_oob = "RUS_Arch_red_guard"
		hidden_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_great_war
				amount = 1000
				producer = RUS
			}
			if = {
				limit = { has_tech = infantry_weapons }
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 200
					producer = RUS
				}
				else = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_great_war
						amount = 200
						producer = RUS
					}
				}
			}
		}
	}
}

# Зелёные выиграли эту войну
country_event = {
	id = rcw.204
	title = rcw.204.t
	desc = rcw.204.d
	picture = GFX_report_event_sov_felix_VCHK
	
	trigger = {
		tag = RGR
		AND = {
		OR = {
		RUS = { is_puppet_of = ROOT }
		RUS = { exists = no }
		RUS = { NOT = { has_war_with = ROOT } }
		RUS = { has_war_with = ROOT has_capitulated = yes }
		}
		OR = {
		RVA = { is_puppet_of = ROOT }
		RVA = { exists = no }
		RVA = { NOT = { has_war_with = ROOT } }
		RVA = { has_war_with = ROOT has_capitulated = yes }
		}
		OR = {
		SIB = { is_puppet_of = ROOT }
		SIB = { exists = no }
		SIB = { NOT = { has_war_with = ROOT } }
		SIB = { has_war_with = ROOT has_capitulated = yes }
		}
		OR = {
		CCA = { is_puppet_of = ROOT }
		CCA = { exists = no }
		CCA = { NOT = { has_war_with = ROOT } }
		CCA = { has_war_with = ROOT has_capitulated = yes }
		}
		OR = {
		RSS = { is_puppet_of = ROOT }
		RSS = { exists = no }
		RSS = { NOT = { has_war_with = ROOT } }
		RSS = { has_war_with = ROOT has_capitulated = yes }
		}
		}
	}
	
	hidden = yes
	
	mean_time_to_happen = {
		days = 0
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.204.a
		every_country = {
			limit = { has_war_with = ROOT }
			white_peace = ROOT
		}
		annex_country = {
			target = RUS
			transfer_troops = no
		}
		annex_country = {
			target = RVA
			transfer_troops = no
		}
		annex_country = {
			target = SIB
			transfer_troops = no
		}
		annex_country = {
			target = CCA
			transfer_troops = no
		}
		annex_country = {
			target = RSS
			transfer_troops = no
		}
		every_country = { 
			limit = { is_neighbor_of = ROOT } 
				every_state = { 
					limit = { is_owned_by = ROOT is_core_of = PREV  } 
					PREV = { transfer_state = PREV } 
				} 
		}
		
		if = { limit = { OR = { ROOT = { owns_state = 655 } PRM = { owns_state = 655 } BKL = { owns_state = 655 } } JAP = { owns_state = 537 } } JAP = { transfer_state = 655 } }
		
		218 = { add_core_of = DON }
		995 = { add_core_of = DON }
		228 = { add_core_of = DON }
		238 = { add_core_of = DON }
		996 = { add_core_of = DON }
		245 = { add_core_of = DON }
		265 = { add_core_of = DON }
		815 = { add_core_of = DON }
		953 = { add_core_of = DON }
		954 = { add_core_of = DON }
		235 = { add_core_of = DON }
		234 = { add_core_of = DON }
		907 = { add_core_of = DON }
		233 = { add_core_of = DON }
		902 = { add_core_of = DON }
		
		if = {
			limit = { MRC = { exists = yes } }
			MRC = {
				if = { limit = { ROOT = { owns_state = 903 } } transfer_state = 903 }
				if = { limit = { ROOT = { owns_state = 929 } } transfer_state = 929 }
				if = { limit = { ROOT = { owns_state = 232 } } transfer_state = 232 }
				if = { limit = { ROOT = { owns_state = 808 } } transfer_state = 808 }
				if = { limit = { ROOT = { owns_state = 896 } } transfer_state = 896 }
				if = { limit = { ROOT = { owns_state = 895 } } transfer_state = 895 }
				if = { limit = { ROOT = { owns_state = 930 } } transfer_state = 930 }
				if = { limit = { ROOT = { owns_state = 928 } } transfer_state = 928 }
				if = { limit = { ROOT = { owns_state = 810 } } transfer_state = 810 }
				if = { limit = { ROOT = { owns_state = 811 } } transfer_state = 811 }
				if = { limit = { ROOT = { owns_state = 809 } } transfer_state = 809 }
				every_state = {
						limit = {
							is_owned_by = PREV
						}
						add_core_of = PREV
						remove_core_of = DON
					}
			}
		}
		
		if = {
			limit = { DON = { exists = no } }
			DON = {
				if = { limit = { ROOT = { owns_state = 218 } } transfer_state = 218 }
				if = { limit = { ROOT = { owns_state = 995 } } transfer_state = 995 }
				if = { limit = { ROOT = { owns_state = 228 } } transfer_state = 228 }
				if = { limit = { ROOT = { owns_state = 238 } } transfer_state = 238 }
				if = { limit = { ROOT = { owns_state = 996 } } transfer_state = 996 }
				if = { limit = { ROOT = { owns_state = 245 } } transfer_state = 245 }
				if = { limit = { ROOT = { owns_state = 953 } } transfer_state = 953 }
				if = { limit = { ROOT = { owns_state = 954 } } transfer_state = 954 }
				if = { limit = { ROOT = { owns_state = 918 } } transfer_state = 918 }
				if = { limit = { ROOT = { owns_state = 227 } } transfer_state = 227 }
				if = { limit = { ROOT = { owns_state = 235 } } transfer_state = 235 }
				if = { limit = { ROOT = { owns_state = 234 } } transfer_state = 234 }
				if = { limit = { ROOT = { owns_state = 907 } } transfer_state = 907 }
				if = { limit = { ROOT = { owns_state = 233 } } transfer_state = 233 }
				if = { limit = { ROOT = { owns_state = 902 } GEO = { exists = no } } transfer_state = 902 }
				if = { limit = { ROOT = { owns_state = 809 } } transfer_state = 809 }
				if = { limit = { ROOT = { owns_state = 811 } } transfer_state = 811 }
				if = { limit = { ROOT = { owns_state = 810 } } transfer_state = 810 }
				if = { limit = { ROOT = { owns_state = 928 } } transfer_state = 928 }
				if = { limit = { ROOT = { owns_state = 930 } } transfer_state = 930 }
				if = { limit = { ROOT = { owns_state = 232 } } transfer_state = 232 }
				if = { limit = { ROOT = { owns_state = 929 } } transfer_state = 929 }
				if = { limit = { ROOT = { owns_state = 895 } } transfer_state = 895 }
				if = { limit = { ROOT = { owns_state = 903 } } transfer_state = 903 }
				if = { limit = { ROOT = { owns_state = 808 } } transfer_state = 808 }
				if = { limit = { ROOT = { owns_state = 896 } } transfer_state = 896 }
				if = { limit = { ROOT = { owns_state = 265 } } transfer_state = 265 }
				set_politics = {
					ruling_party = communism
				}
				set_popularities = {
					radical_socialism = 34
					communism = 44
					social_liberalism = 15
					market_liberalism = 7
				}
				load_oob = DON_red_cossack
			}
			else = {
				if = { limit = { ROOT = { owns_state = 218 } } transfer_state = 218 }
				if = { limit = { ROOT = { owns_state = 995 } } transfer_state = 995 }
				if = { limit = { ROOT = { owns_state = 228 } } transfer_state = 228 }
				if = { limit = { ROOT = { owns_state = 238 } } transfer_state = 238 }
				if = { limit = { ROOT = { owns_state = 996 } } transfer_state = 996 }
				if = { limit = { ROOT = { owns_state = 245 } } transfer_state = 245 }
				if = { limit = { ROOT = { owns_state = 953 } } transfer_state = 953 }
				if = { limit = { ROOT = { owns_state = 954 } } transfer_state = 954 }
				if = { limit = { ROOT = { owns_state = 918 } } transfer_state = 918 }
				if = { limit = { ROOT = { owns_state = 227 } } transfer_state = 227 }
				if = { limit = { ROOT = { owns_state = 235 } } transfer_state = 235 }
				if = { limit = { ROOT = { owns_state = 234 } } transfer_state = 234 }
				if = { limit = { ROOT = { owns_state = 907 } } transfer_state = 907 }
				if = { limit = { ROOT = { owns_state = 233 } } transfer_state = 233 }
				if = { limit = { ROOT = { owns_state = 902 } GEO = { exists = no } } transfer_state = 902 }
				if = { limit = { ROOT = { owns_state = 809 } } transfer_state = 809 }
				if = { limit = { ROOT = { owns_state = 811 } } transfer_state = 811 }
				if = { limit = { ROOT = { owns_state = 810 } } transfer_state = 810 }
				if = { limit = { ROOT = { owns_state = 928 } } transfer_state = 928 }
				if = { limit = { ROOT = { owns_state = 930 } } transfer_state = 930 }
				if = { limit = { ROOT = { owns_state = 232 } } transfer_state = 232 }
				if = { limit = { ROOT = { owns_state = 929 } } transfer_state = 929 }
				if = { limit = { ROOT = { owns_state = 895 } } transfer_state = 895 }
				if = { limit = { ROOT = { owns_state = 903 } } transfer_state = 903 }
				if = { limit = { ROOT = { owns_state = 808 } } transfer_state = 808 }
				if = { limit = { ROOT = { owns_state = 896 } } transfer_state = 896 }
				if = { limit = { ROOT = { owns_state = 265 } } transfer_state = 265 }
			}
		}
		
		if = {
			limit = { GEO = { exists = no } }
			GEO = {
				if = { limit = { ROOT = { owns_state = 231 } } transfer_state = 231 }
				if = { limit = { ROOT = { owns_state = 863 } } transfer_state = 863 }
				if = { limit = { ROOT = { owns_state = 895 } } transfer_state = 895 }
				if = { limit = { ROOT = { owns_state = 898 } } transfer_state = 898 }
				if = { limit = { ROOT = { owns_state = 899 } } transfer_state = 899 }
				if = { limit = { ROOT = { owns_state = 900 } } transfer_state = 900 }
				if = { limit = { ROOT = { owns_state = 901 } } transfer_state = 901 }
				if = { limit = { ROOT = { owns_state = 997 } } transfer_state = 997 }
				if = { limit = { ROOT = { owns_state = 803 } } transfer_state = 803 }
				if = { limit = { ROOT = { owns_state = 902 } } transfer_state = 902 }
				set_politics = {
					ruling_party = social_democracy
				}
				set_popularities = {
					radical_socialism = 0
					communism = 15
					authoritarism = 0
					social_democracy = 85
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 0
					despotism = 0
					fascism = 0
					national_syndicalism = 0
				}
			}
			else = {
			GEO = {
				if = { limit = { ROOT = { owns_state = 902 } } transfer_state = 902 }
				}
			}
		}
		
		if = {
			limit = { ARM = { exists = no } }
			ARM = {
				if = { limit = { ROOT = { owns_state = 230 } } transfer_state = 230 }
				if = { limit = { ROOT = { owns_state = 864 } } transfer_state = 864 }
				if = { limit = { ROOT = { owns_state = 887 } } transfer_state = 887 }
				if = { limit = { ROOT = { owns_state = 888 } } transfer_state = 888 }
				if = { limit = { ROOT = { owns_state = 889 } } transfer_state = 889 }
				if = { limit = { ROOT = { owns_state = 931 } } transfer_state = 931 }
				if = { limit = { ROOT = { owns_state = 891 } } transfer_state = 891 }
				if = { limit = { ROOT = { owns_state = 892 } } transfer_state = 892 }
				set_politics = {
					ruling_party = social_democracy
				}
				set_popularities = {
					radical_socialism = 0
					communism = 14
					authoritarism = 0
					social_democracy = 39
					social_liberalism = 13
					market_liberalism = 13
					social_conservatism = 21
					despotism = 0
					fascism = 0
					national_syndicalism = 0
				}
			}
		}
		
		if = {
			limit = { AZR = { exists = no } }
			AZR = {
				if = { limit = { ROOT = { owns_state = 890 } } transfer_state = 890 }
				if = { limit = { ROOT = { owns_state = 893 } } transfer_state = 893 }
				if = { limit = { ROOT = { owns_state = 894 } } transfer_state = 894 }
				if = { limit = { ROOT = { owns_state = 896 } } transfer_state = 896 }
				if = { limit = { ROOT = { owns_state = 897 } } transfer_state = 897 }
				if = { limit = { ROOT = { owns_state = 352 } } transfer_state = 352 }
				if = { limit = { ROOT = { owns_state = 353 } } transfer_state = 353 }
				if = { limit = { ROOT = { owns_state = 354 } } transfer_state = 354 }
				if = { limit = { ROOT = { owns_state = 229 } } transfer_state = 229 }
				set_politics = {
					ruling_party = market_liberalism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 0
					authoritarism = 0
					social_democracy = 30
					social_liberalism = 10
					market_liberalism = 35
					social_conservatism = 10
					despotism = 15
					fascism = 0
					national_syndicalism = 0
				}
			}
		}
		
		if = {
			limit = { UKR = { exists = no } USR = { exists = no } }
			UKR = {
				if = { limit = { ROOT = { owns_state = 202 } } transfer_state = 202 }
				if = { limit = { ROOT = { owns_state = 93 } } transfer_state = 93 }
				if = { limit = { ROOT = { owns_state = 193 } } transfer_state = 193 }
				if = { limit = { ROOT = { owns_state = 198 } } transfer_state = 198 }
				if = { limit = { ROOT = { owns_state = 199 } } transfer_state = 199 }
				if = { limit = { ROOT = { owns_state = 201 } } transfer_state = 201 }
				if = { limit = { ROOT = { owns_state = 203 } } transfer_state = 203 }
				if = { limit = { ROOT = { owns_state = 259 } } transfer_state = 259 }
				if = { limit = { ROOT = { owns_state = 959 } } transfer_state = 959 }
				if = { limit = { ROOT = { owns_state = 812 } } transfer_state = 812 }
				if = { limit = { ROOT = { owns_state = 868 } } transfer_state = 868 }
				if = { limit = { ROOT = { owns_state = 200 } } transfer_state = 200 }
				if = { limit = { ROOT = { owns_state = 221 } } transfer_state = 221 }
				if = { limit = { ROOT = { owns_state = 225 } } transfer_state = 225 }
				if = { limit = { ROOT = { owns_state = 226 } } transfer_state = 226 }
				if = { limit = { ROOT = { owns_state = 923 } } transfer_state = 923 }
				if = { limit = { ROOT = { owns_state = 961 } } transfer_state = 961 }
				if = { limit = { ROOT = { owns_state = 958 } } transfer_state = 958 }
				if = { limit = { ROOT = { owns_state = 852 } } transfer_state = 852 }
				if = { limit = { ROOT = { owns_state = 925 } } transfer_state = 925 }
				if = { limit = { ROOT = { owns_state = 91 } } transfer_state = 91 }
				if = { limit = { ROOT = { owns_state = 80 } } transfer_state = 80 }
				if = { limit = { ROOT = { owns_state = 89 } } transfer_state = 89 }
				if = { limit = { ROOT = { owns_state = 192 } } transfer_state = 192 }
				if = { limit = { ROOT = { owns_state = 197 } } transfer_state = 197 }
				if = { limit = { ROOT = { owns_state = 196 } } transfer_state = 196 }
				if = { limit = { ROOT = { owns_state = 814 } } transfer_state = 814 }
				if = { limit = { ROOT = { owns_state = 919 } } transfer_state = 919 }
				set_politics = {
					ruling_party = radical_socialism
				}
				set_popularities = {
					radical_socialism = 34
					communism = 44
					social_liberalism = 15
					market_liberalism = 7
				}
			}
			every_unit_leader = { limit = { OR = { has_id = 19216 } } set_nationality = UKR }
			every_unit_leader = { limit = { OR = { has_id = 19217 } } set_nationality = UKR }
		}
		
		if = {
			limit = { CRI = { exists = no } }
			CRI = {
				if = { limit = { ROOT = { owns_state = 137 } } transfer_state = 137 }
				set_politics = {
					ruling_party = social_conservatism
				}
				set_popularities = {
					social_conservatism = 60
					authoritarism = 20
					communism = 15
					fascism = 5
				}
			}
		}
		
		if = {
			limit = { EST = { exists = no } }
			EST = {
					every_state = {
						limit = {
							is_owned_by = ROOT
							is_core_of = EST
						}
					EST = { transfer_state = PREV }
					}
					set_politics = {
						ruling_party = despotism
					}
					set_popularities = {
						radical_socialism = 10
						communism = 25
						social_democracy = 10
						social_liberalism = 10
						market_liberalism = 10
						social_conservatism = 10
						authoritarism = 0
						despotism = 25
						fascism = 0
						national_syndicalism =  0
					}
				}
		}
		
		if = {
			limit = { LAT = { exists = no } }
			LAT = {
					every_state = {
						limit = {
							is_owned_by = ROOT
							is_core_of = LAT
						}
					LAT = { transfer_state = PREV }
					}
					set_politics = {
						ruling_party = despotism
					}
					set_popularities = {
						radical_socialism = 0
						communism = 55
						social_democracy = 5
						social_liberalism = 0
						market_liberalism = 0
						social_conservatism = 10
						authoritarism = 5
						despotism = 25
						fascism = 0
						national_syndicalism =  0
					}
				}
		}
		
		if = {
			limit = { LIT = { exists = no } }
			LIT = {
					every_state = {
						limit = {
							is_owned_by = ROOT
							is_core_of = LIT
						}
					LIT = { transfer_state = PREV }
					}
					set_politics = {
						ruling_party = despotism
					}
					set_popularities = {
						social_conservatism = 30
						fascism = 15
						communism = 15
						despotism = 40
					}
				}
		}
		
		if = {
			limit = { POL = { exists = no } }
			POL = {
				every_state = {
						limit = {
							is_owned_by = ROOT
							is_core_of = POL
						}
					POL = { transfer_state = PREV }
					}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					social_conservatism = 13
					radical_socialism = 5
					communism = 7
					authoritarism = 20
					despotism = 55
				}
			}
		}
		
		if = {
			limit = { BLR = { exists = no } }
			BLR = {
					every_state = {
						limit = {
							is_owned_by = ROOT
							is_core_of = BLR
						}
					BLR = { transfer_state = PREV }
					}
					set_politics = {
						ruling_party = social_democracy
					}
					set_popularities = {
						radical_socialism = 0
						communism = 25
						social_democracy = 25
						social_liberalism = 20
						market_liberalism = 0
						social_conservatism = 0
						authoritarism = 20
						despotism = 10
						fascism = 0
						national_syndicalism = 0
					}
				}
		}
		
		if = {
			limit = { TAN = { exists = no } }
			TAN = {
				if = { limit = { ROOT = { owns_state = 329 } } transfer_state = 329 }
				set_politics = {
					ruling_party = communism
				}
				set_popularities = {
					radical_socialism = 40
					social_conservatism = 0
					fascism = 0
					communism = 40
					authoritarism = 20
				}
			}
		}
		
		if = {
			limit = { PRM = { exists = no } any_state = { is_core_of = PRM is_owned_by = ROOT } }
			PRM = {
				every_state = {
						limit = {
							is_owned_by = ROOT
							is_core_of = PRM
						}
					PRM = { transfer_state = PREV }
					}
				set_politics = {
					ruling_party = radical_socialism
				}
				set_popularities = {
					national_syndicalism = 1
					despotism = 10
					fascism = 5
					radical_socialism = 6
					authoritarism = 10
					social_democracy = 10
					social_liberalism = 23
					market_liberalism = 10
					social_conservatism = 15
					communism = 10
				}
			}
			else_if = {
				limit = { PRM = { exists = no } NOT = { any_state = { is_core_of = PRM is_owned_by = ROOT } } }
				ZKL = {
				every_state = {
						limit = {
							is_owned_by = ROOT
							is_core_of = ZKL
						}
					ZKL = { transfer_state = PREV }
					}
				}
			}
		}
		
		if = {
			limit = { BKL = { exists = yes } }
			BKL = {
				every_state = {
						limit = {
							is_owned_by = ROOT
							is_core_of = BKL
						}
					BKL = { transfer_state = PREV }
					}
				set_politics = {
					ruling_party = authoritarism
				}
				set_popularities = {
					national_syndicalism = 1
					despotism = 10
					fascism = 5
					radical_socialism = 6
					authoritarism = 10
					social_democracy = 10
					social_liberalism = 23
					market_liberalism = 10
					social_conservatism = 15
					communism = 10
				}
			}
			else = {
				BKL = {
				every_state = {
						limit = {
							is_core_of = BKL
						}
					remove_core_of = BKL
					}
					}
			}
		}
		
		if = {
			limit = { TRK = { exists = no } }
			TRK = {
				if = { limit = { ROOT = { owns_state = 586 } } transfer_state = 586 }
				if = { limit = { ROOT = { owns_state = 405 } } transfer_state = 405 }
				if = { limit = { ROOT = { owns_state = 732 } } transfer_state = 732 }
				if = { limit = { ROOT = { owns_state = 883 } } transfer_state = 883 }
				if = { limit = { ROOT = { owns_state = 742 } } transfer_state = 742 }
				if = { limit = { ROOT = { owns_state = 884 } } transfer_state = 884 }
				if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { puppet = PREV set_autonomy = { target = PREV autonomy_state = autonomy_colony } } }
				set_politics = {
					ruling_party = social_conservatism
				}
				set_popularities = {
					radical_socialism = 5
					communism = 20
					social_democracy = 5
					social_liberalism = 10
					market_liberalism = 0
					social_conservatism = 30
					authoritarism = 0
					despotism = 10
					fascism = 15
					national_syndicalism = 5
				}
			}
			else = {
				if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { puppet = TRK set_autonomy = { target = TRK autonomy_state = autonomy_colony } } }
				TRK = {
				set_politics = {
					ruling_party = social_conservatism
				}
				set_popularities = {
					radical_socialism = 5
					communism = 20
					social_democracy = 5
					social_liberalism = 10
					market_liberalism = 0
					social_conservatism = 30
					authoritarism = 0
					despotism = 10
					fascism = 15
					national_syndicalism = 5
				}
				}
			}
		}
		
		if = {
			limit = { KAZ = { exists = no } }
			KAZ = {
				if = { limit = { ROOT = { owns_state = 885 } } transfer_state = 885 }
				if = { limit = { ROOT = { owns_state = 589 } } transfer_state = 589 }
				if = { limit = { ROOT = { owns_state = 404 } } transfer_state = 404 }
				if = { limit = { ROOT = { owns_state = 908 } } transfer_state = 908 }
				if = { limit = { ROOT = { owns_state = 909 } } transfer_state = 909 }
				if = { limit = { ROOT = { owns_state = 588 } } transfer_state = 588 }
				if = { limit = { ROOT = { owns_state = 590 } } transfer_state = 590 }
				if = { limit = { ROOT = { owns_state = 583 } } transfer_state = 583 }
				set_politics = {
					ruling_party = market_liberalism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 0
					social_democracy = 30
					social_liberalism = 10
					market_liberalism = 35
					social_conservatism = 10
					authoritarism = 0
					despotism = 15
					fascism =  0
					national_syndicalism = 0
				}
				drop_cosmetic_tag = yes
			}
			else = {
					KAZ = { drop_cosmetic_tag = yes }
				}
		}
		
		if = {
			limit = { NRR = { exists = yes has_capitulated = no } }
			NRR = {
				if = { limit = { ROOT = { owns_state = 262 } } transfer_state = 262 }
				if = { limit = { ROOT = { owns_state = 397 } } transfer_state = 397 }
				if = { limit = { ROOT = { owns_state = 913 } } transfer_state = 913 }
				if = { limit = { ROOT = { owns_state = 214 } } transfer_state = 214 }
				if = { limit = { ROOT = { owns_state = 215 } } transfer_state = 215 }
				if = { limit = { ROOT = { owns_state = 964 } } transfer_state = 964 }
				if = { limit = { ROOT = { owns_state = 213 } } transfer_state = 213 }
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 0
					social_democracy = 0
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 0
					authoritarism = 0
					despotism = 100
					fascism = 0
					national_syndicalism = 0
				}
			}
			else = {
				NRR = {
				every_state = {
						limit = {
							is_core_of = NRR
						}
					remove_core_of = NRR
					}
					}
			}
		}
		
		if = {
			limit = { NWA = { exists = yes has_capitulated = no } }
			NWA = {
				if = { limit = { ROOT = { owns_state = 1016 } } transfer_state = 1016 }
				if = { limit = { ROOT = { owns_state = 210 } } transfer_state = 210 }
				if = { limit = { ROOT = { owns_state = 209 } } transfer_state = 209 }
				if = { limit = { ROOT = { owns_state = 1017 } } transfer_state = 1017 }
				if = { limit = { ROOT = { owns_state = 1015 } } transfer_state = 1015 }
				if = { limit = { ROOT = { owns_state = 1020 } } transfer_state = 1020 }
				if = { limit = { ROOT = { owns_state = 208 } } transfer_state = 208 }
				if = { limit = { ROOT = { owns_state = 1023 } } transfer_state = 1023 }
				if = { limit = { ROOT = { owns_state = 1021 } } transfer_state = 1021 }
				if = {
					limit = { OR = { controls_state = 195 owns_state = 195 } }
					set_capital = 195
					if = { limit = { ROOT = { owns_state = 1019 } } transfer_state = 1019 }
					if = { limit = { ROOT = { owns_state = 195 } } transfer_state = 195 }
					if = { limit = { ROOT = { owns_state = 1018 } } transfer_state = 1018 }
					if = { limit = { ROOT = { owns_state = 1022 } } transfer_state = 1022 }
					if = { limit = { ROOT = { owns_state = 244 } } transfer_state = 244 }
					if = { limit = { ROOT = { owns_state = 263 } } transfer_state = 263 }
					if = { limit = { ROOT = { owns_state = 264 } } transfer_state = 264 }
					if = { limit = { ROOT = { owns_state = 216 } } transfer_state = 216 }
					if = { limit = { ROOT = { owns_state = 797 } } transfer_state = 797 }
				}
				if = {
					limit = { NOT = { has_completed_focus = NWA_savinkov_program } }
					set_politics = {
						ruling_party = authoritarism
					}
					set_popularities = {
						radical_socialism = 0
						communism = 0
						social_democracy = 0
						social_liberalism = 0
						market_liberalism = 0
						social_conservatism = 0
						authoritarism = 50
						despotism = 50
						fascism = 0
						national_syndicalism = 0
					}
					drop_cosmetic_tag = yes
					else = {
					set_politics = {
						ruling_party = national_syndicalism
					}
					set_popularities = {
						radical_socialism = 0
						communism = 0
						social_democracy = 0
						social_liberalism = 0
						market_liberalism = 0
						social_conservatism = 0
						authoritarism = 25
						despotism = 25
						fascism = 0
						national_syndicalism = 50
					}
					drop_cosmetic_tag = yes
					set_cosmetic_tag = NWA_PSK
					}
				}
			}
			else = {
				NWA = {
				every_state = {
						limit = {
							is_core_of = NWA
						}
					remove_core_of = NWA
					}
					}
			}
		}
		
		TAR = {
				inherit_technology = ROOT
				transfer_state = 249
				transfer_state = 651
				652 = { add_core_of = TAR }
				set_politics = {
					ruling_party = market_liberalism
				}
				set_popularities = {
					fascism = 0
					authoritarism = 0
					social_conservatism = 22
					radical_socialism = 17
					social_democracy = 12
					social_liberalism = 14
					market_liberalism = 25
					communism = 10
					national_syndicalism = 0
				}
			}
			
		VRZ = {
				inherit_technology = ROOT
				transfer_state = 260
				transfer_state = 240
				transfer_state = 220
				transfer_state = 224
				transfer_state = 222
				transfer_state = 258
				transfer_state = 257
				transfer_state = 960
				260 = { add_core_of = VRZ }
				240 = { add_core_of = VRZ }
				220 = { add_core_of = VRZ }
				224 = { add_core_of = VRZ }
				222 = { add_core_of = VRZ }
				258 = { add_core_of = VRZ }
				257 = { add_core_of = VRZ }
				960 = { add_core_of = VRZ }
				961 = { add_core_of = VRZ }
				923 = { add_core_of = VRZ }
		}
		
		VLG = {
				inherit_technology = ROOT
				transfer_state = 239
				transfer_state = 250
				transfer_state = 251
				transfer_state = 401
				transfer_state = 217
				transfer_state = 813
				transfer_state = 815
				transfer_state = 237
				transfer_state = 236
				transfer_state = 407
				transfer_state = 406
				transfer_state = 402
				transfer_state = 587
				239 = { add_core_of = VLG }
				250 = { add_core_of = VLG }
				251 = { add_core_of = VLG }
				401 = { add_core_of = VLG }
				217 = { add_core_of = VLG }
				813 = { add_core_of = VLG }
				815 = { add_core_of = VLG }
				237 = { add_core_of = VLG }
				236 = { add_core_of = VLG }
				407 = { add_core_of = VLG }
				406 = { add_core_of = VLG }
				402 = { add_core_of = VLG }
				587 = { add_core_of = VLG }
				transfer_state = 652
				651 = { add_core_of = VLG }
		}
		
		if = { limit = { ROOT = { owns_state = 881 } } KHI = { transfer_state = 881 } }
		if = { limit = { ROOT = { owns_state = 880 } } KHI = { transfer_state = 880 } }
		
		if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { puppet = KHI set_autonomy = { target = KHI autonomy_state = autonomy_colony } } }
		if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { puppet = BUK set_autonomy = { target = BUK autonomy_state = autonomy_colony } } }
		if = { limit = { NOT = { has_global_flag = WWI_ENG_HAS_CAPITULATED } } ENG = { puppet = CPG set_autonomy = { target = CPG autonomy_state = autonomy_colony } } }
		
		KHI = {
				set_politics = {
					ruling_party = authoritarism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 15
					social_democracy = 0
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 0
					authoritarism = 39
					despotism = 46
					national_syndicalism = 0
					fascism = 0
				}
		}
		
		BUK = {
				set_politics = {
					ruling_party = authoritarism
				}
				set_popularities = {
					radical_socialism = 0
					communism = 0
					social_democracy = 0
					social_liberalism = 0
					market_liberalism = 0
					social_conservatism = 0
					authoritarism = 100
					despotism = 0
					national_syndicalism = 0
					fascism = 0
				}
		}
		
		CPG = {
				if = {
				limit = { CPG  = { exists = yes } }
				every_state = {
						limit = {
							is_core_of = CPG
						}
					CPG = { transfer_state = PREV }
					}
				}
				set_politics = {
					ruling_party = despotism
				}
				set_popularities = {
					social_liberalism = 35
	        		market_liberalism = 20
	        		social_conservatism = 10
	        		despotism = 15
	        		communism = 20
				}
				set_cosmetic_tag = CPG_UK
		}
		
		WSB = {
				inherit_technology = ROOT
				transfer_state = 573
				transfer_state = 582
				transfer_state = 572
				transfer_state = 653
				transfer_state = 403
				transfer_state = 581
				transfer_state = 911
				transfer_state = 1025
				transfer_state = 580
				transfer_state = 579
				transfer_state = 571
				573 = { add_core_of = WSB }
				582 = { add_core_of = WSB }
				572 = { add_core_of = WSB }
				653 = { add_core_of = WSB }
				403 = { add_core_of = WSB }
				581 = { add_core_of = WSB }
				911 = { add_core_of = WSB }
				1025 = { add_core_of = WSB }
				580 = { add_core_of = WSB }
				579 = { add_core_of = WSB }
				571 = { add_core_of = WSB }
		}
		
		TAI = {
				inherit_technology = ROOT
				transfer_state = 570
				transfer_state = 40
				transfer_state = 654
				transfer_state = 569
				transfer_state = 578
				transfer_state = 577
				570 = { add_core_of = TAI }
				40 = { add_core_of = TAI }
				654 = { add_core_of = TAI }
				569 = { add_core_of = TAI }
				578 = { add_core_of = TAI }
				577 = { add_core_of = TAI }
		}
		
		ESB = {
				inherit_technology = ROOT
				transfer_state = 568
				transfer_state = 567
				transfer_state = 566
				transfer_state = 565
				transfer_state = 575
				transfer_state = 576
				transfer_state = 516
				if = { limit = { ROOT = { owns_state = 564 } } transfer_state = 564 }
				if = { limit = { ROOT = { owns_state = 563 } } transfer_state = 563 }
				568 = { add_core_of = ESB }
				567 = { add_core_of = ESB }
				566 = { add_core_of = ESB }
				565 = { add_core_of = ESB }
				575 = { add_core_of = ESB }
				576 = { add_core_of = ESB }
				516 = { add_core_of = ESB }
				564 = { add_core_of = ESB }
				563 = { add_core_of = ESB }
		}
		
		YAK = {
				inherit_technology = ROOT
				transfer_state = 574
				transfer_state = 562
				transfer_state = 637
				transfer_state = 644
				transfer_state = 807
				transfer_state = 561
				574 = { add_core_of = YAK }
				562 = { add_core_of = YAK }
				637 = { add_core_of = YAK }
				644 = { add_core_of = YAK }
				807 = { add_core_of = YAK }
				561 = { add_core_of = YAK }
		}
		
		RSS = {
			every_state = {
					limit = {
						is_core_of = RSS
					}
				remove_core_of = RSS
			}
		}
		
		RUS = {
			every_state = {
					limit = {
						is_core_of = RUS
					}
				remove_core_of = RUS
			}
		}
		
		CCA = {
			every_state = {
					limit = {
						is_core_of = CCA
					}
				remove_core_of = CCA
			}
		}
		
		SIB = {
			every_state = {
					limit = {
						is_core_of = SIB
					}
				remove_core_of = SIB
			}
		}
		
		RVA = {
			every_state = {
					limit = {
						is_core_of = RVA
					}
				remove_core_of = RVA
			}
		}
		
		ROOT = {
			every_state = {
					limit = {
						is_owned_by = ROOT
					}
				add_core_of = ROOT
			}
		}
		
		every_unit_leader = { limit = { OR = { has_id = 19218 } } set_nationality = VLG }
		every_unit_leader = { limit = { OR = { has_id = 19211 } } set_nationality = VRZ }
		every_unit_leader = { limit = { OR = { has_id = 19215 } } set_nationality = ESB }
		every_unit_leader = { limit = { OR = { has_id = 19212 } } set_nationality = TAI }
		every_unit_leader = { limit = { OR = { has_id = 92347 } } set_nationality = YAK }
		
		set_politics = {
			ruling_party = social_liberalism
			elections_allowed = no
		}
		
		set_popularities = {
			radical_socialism = 14
			communism = 14
			social_democracy = 5
			market_liberalism = 16
			social_liberalism = 35
			social_conservatism = 16
		}
		
		remove_ideas = RGR_supply_bonus
		
		set_global_flag = RUS_civil_war_over
	}
}

# Поставки вооружение от Антанты
country_event = {
	id = rcw.300
	title = rcw.300.t
	desc = rcw.300.d
	picture = GFX_report_event_rus_krodshtat_refuse
	
	is_triggered_only = yes
	
	option = {
		name = rcw.300.a
		FROM = {
			send_equipment = {
				equipment = infantry_equipment
				amount = 1000
				target = ROOT
			}
		}
		add_to_variable = { global.Entente_support_limit = 1 }
		add_to_variable = { global.Entente_support_count = 1 }
	}
	option = {
		name = rcw.300.b
		trigger = {
			is_ai = no
		}
	}
}


# Начало продовольственного кризиса
country_event = {
	id = rcw.1001
	title = rcw.1001.t
	desc = rcw.1001.d
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		has_idea = RUS_peasant_question
		NOT = { has_global_flag = RUS_civil_war_over }
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
			has_idea = RUS_collapse_of_railway_system_5
		}
		NOT = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
		OR = {
			controls_state = 195
			controls_state = 219
		}
		OR = {
			SIB = { exists = yes }
			CCA = { exists = yes }
			RSS = { exists = yes }
			DON = { exists = yes }
			RVA = { exists = yes }
		}
		OR = {
			has_war_with = SIB
			has_war_with = CCA
			has_war_with = RSS
			has_war_with = DON
			has_war_with = RVA
		}
				count_triggers = {
					amount = 7
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
		NOT = { has_completed_focus = RUS_prodnalog }
		NOT = { has_completed_focus = RUS_voluntary_agriculture_cooperatives }
		NOT = { has_completed_focus = RUS_organization_of_agricultural_cooperatives }
		has_country_flag = RUS_Oktober_revolution_fired
	}
	
	mean_time_to_happen = {
		days = 180
	}
	
	fire_only_once = yes
	
	option = {
		name = rcw.1001.a
		add_political_power = -25
		add_stability = -0.02
		add_ideas = foodstuffs_supply_crisis_1
	}
}

# Усугубление продовольсвенной ситуации
country_event = {
	id = rcw.1002
	title = rcw.1002.t
	desc = rcw.1002.d
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		NOT = { has_global_flag = RUS_civil_war_over }
		OR = {
			has_idea = foodstuffs_supply_crisis_1
			has_idea = foodstuffs_supply_crisis_2
			has_idea = foodstuffs_supply_crisis_3
			has_idea = foodstuffs_supply_crisis_4
			has_idea = foodstuffs_supply_crisis_5
		}
		OR = {
			has_idea = RUS_peasant_question
			has_idea = RUS_peasant_question_0_5
			has_idea = RUS_peasant_question_0_25
		}
		OR = {
			has_idea = RUS_collapse_of_railway_system_1
			has_idea = RUS_collapse_of_railway_system_2
			has_idea = RUS_collapse_of_railway_system_3
			has_idea = RUS_collapse_of_railway_system_4
		}
		OR = {
			controls_state = 195
			controls_state = 219
		}
				count_triggers = {
					amount = 10
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
	}
	
	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.25
			NOT = { has_idea = RUS_prodrazverstka_idea }
			NOT = { has_idea = RUS_weakened_prodrazverstka_idea }
				count_triggers = {
					amount = 12
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
		}
		modifier = {
			factor = 2
			has_idea = foodstuffs_supply_crisis_2
			NOT = {
				count_triggers = {
					amount = 12
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
			}
		}
		modifier = {
			factor = 2
			has_idea = foodstuffs_supply_crisis_3
			NOT = {
				count_triggers = {
					amount = 16
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
			}
		}
		modifier = {
			factor = 2
			has_idea = foodstuffs_supply_crisis_4
			NOT = {
				count_triggers = {
					amount = 19
					572 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					582 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					651 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					652 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					251 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					250 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					239 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					265 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					257 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					258 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					260 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					240 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					220 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					234 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					
					814 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					958 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					259 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					193 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					868 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
					201 = { controller = { OR = { has_war_with = RUS NOT = { has_opinion = { target = ROOT value = 60 } } } } }
				}
			}
		}
	}
	
	option = {
		name = rcw.1002.a
		add_stability = -0.01
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			remove_ideas = foodstuffs_supply_crisis_4
			add_ideas = foodstuffs_supply_crisis_5
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			remove_ideas = foodstuffs_supply_crisis_3
			add_ideas = foodstuffs_supply_crisis_4
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_2 }
			remove_ideas = foodstuffs_supply_crisis_2
			add_ideas = foodstuffs_supply_crisis_3
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_1 }
			remove_ideas = foodstuffs_supply_crisis_1
			add_ideas = foodstuffs_supply_crisis_2
		}
	}
}

# Облегчение продовольсвенной ситуации
country_event = {
	id = rcw.1003
	title = rcw.1003.t
	desc = rcw.1003.d
	picture = GFX_report_event_sov_food_crisis
	
	trigger = {
		tag = RUS
		OR = {
		has_global_flag = RUS_civil_war_over
		OR = {
			AND = {
				OR = {
					AND = {
						has_idea = foodstuffs_supply_crisis_2
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.85 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_3
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.7 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_4
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.55 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_5
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.4 }
					}
				}
				has_completed_focus = RUS_prodrazverstka
			}
			AND = {
				OR = {
					AND = {
						has_idea = foodstuffs_supply_crisis_2
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.95 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_3
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.825 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_4
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.7 }
					}
					AND = {
						has_idea = foodstuffs_supply_crisis_5
						check_variable = { global.bolsheviks_control_of_bread_regions > 0.575 }
					}
				}
				NOT = { has_completed_focus = RUS_prodrazverstka }
			}
		}
		}
	}
	
	mean_time_to_happen = {
		days = 160
		modifier = {
			factor = 0.5
			has_completed_focus = RUS_prodrazverstka
		}
	}
	
	hidden = yes
	
	option = {
		name = rcw.1003.a
		add_stability = 0.02
		if = {
			limit = { has_idea = foodstuffs_supply_crisis_5 }
			remove_ideas = foodstuffs_supply_crisis_5
			add_ideas = foodstuffs_supply_crisis_4
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_4 }
			remove_ideas = foodstuffs_supply_crisis_4
			add_ideas = foodstuffs_supply_crisis_3
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_3 }
			remove_ideas = foodstuffs_supply_crisis_3
			add_ideas = foodstuffs_supply_crisis_2
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_2 }
			remove_ideas = foodstuffs_supply_crisis_2
			add_ideas = foodstuffs_supply_crisis_1
		}
		else_if = {
			limit = { has_idea = foodstuffs_supply_crisis_1 }
			remove_ideas = foodstuffs_supply_crisis_1
		}
	}
}

# Notification event that leader has been killed
country_event = {
	id = rcw.1922
	title = rcw.1922.t
	desc = {
		text = rcw.1922.d
		trigger = {
			OR = {
				tag = RUS
				is_main_former_russian_empire_country = no
			}
		}
	}
	desc = {
		text = rcw.1922.d_1
		trigger = {
			NOT = { tag = RUS }
			is_main_former_russian_empire_country = yes
		}
	}
	
	picture = GFX_report_event_military_planning

	trigger = {
		NOT = { has_global_flag = RUS_civil_war_over }
		is_main_former_russian_empire_country = yes
		is_subject = no
		OR = {
			AND = {
				tag = RUS
				has_country_flag = RUS_Oktober_revolution_fired
				OR = {
					has_country_flag = RUS_czechoslovak_legion_uprising
					has_country_flag = RUS_czechoslovak_legion_evacuated
				}
				OR = {
					has_country_flag = legitimized_bolsheviks
					has_country_flag = RUS_karaul_ustal
				}
			}
			AND = {
				NOT = { tag = RUS }
				all_country = {
					OR = {
						is_main_former_russian_empire_country = no
						is_subject = yes
						exists = no
					}
				}
			}
		}
		
		has_war = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes

	option = {
		name = rcw.1922.a
		set_global_flag = RUS_civil_war_over
		every_country = {
			limit = { is_main_former_russian_empire_country = yes is_subject_of = ROOT }
			ROOT = {
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
	}
}

# Notification event that leader has been killed
country_event = {
	id = rcw.2001
	title = rcw.2001.t
	desc = rcw.2001.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = unfortunate
		effect_tooltip = {
			FROM = {
				retire = yes
			}
		}
	}
}

# Notification event that leader has been killed by god
country_event = {
	id = rcw.2002
	title = rcw.2002.t
	desc = rcw.2002.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = unfortunate
		effect_tooltip = {
			FROM = {
				retire = yes
			}
		}
	}
}